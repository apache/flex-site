<!DOCTYPE html>
<!--[if IE 7 ]><html class="ie ie7" lang="en"><![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"><![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"><!--<![endif]-->

<head>

    <meta charset="utf-8">
    <title>Apache Flex® - Unit 11 - Parameterized Tests</title>

    <!-- For Mobiles  -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="/css/fixed-width.css" id="layout">
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <!-- favicon -->
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico"/>
    <link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-60.png">
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/images/apple-touch-icon-76.png">
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/images/apple-touch-icon-120.png">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/images/apple-touch-icon-152.png">

    <!-- Java Script  -->
    <script src="/js/jquery.js"></script>
    <script src="/js/custom.js"></script>
    <script src="/js/selectnav.js"></script>
    <script src="/js/flexslider.js"></script>
    <script src="/js/twitter.js"></script>
    <script src="/js/fancybox.js"></script>
    <script src="/js/isotope.js"></script>
    <script src="/js/bootstrap.js"></script>
    <script src="/js/showcase.js"></script>


</head>
<body>

<!-- Wrapper Start -->
<div id="wrapper" class="container-fluid">


    <!-- Header -->


    <div class="ie-dropdown-fix" >

        <!-- Header -->
        <div class="row-fluid" id="header">

            <!-- Logo -->
            <div class="span5">

                <a href="/"><img src="/images/logo_01_fullcolor-sm.png" alt="Apache Flex®" title="Apache Flex®" /></a>

            </div>

            <!-- Social / Contact -->
            <div class="span3 pull-right">

                <!-- Social Icons -->
                <ul class="social-icons">
                    <li class="facebook"><a href="https://www.facebook.com/pages/Apache-Flex/174249699342648">Facebook</a></li>
                    <li class="twitter"><a href="http://twitter.com/ApacheFlex">Twitter</a></li>
                    <li class="linkedin"><a href="http://www.linkedin.com/groups/Apache-Flex-Developers-4296888">LinkedIn</a></li>
                </ul>

                <!-- Apache Logo -->
                <a href="http://www.apache.org" id="contact-top"><img src="https://www.apache.org/images/feather-small.gif" title="An Apache Project" alt="An Apache Project" /> </a>
            </div>

        </div>
        <!-- Header / End -->

        <!-- Navigation -->
        <div id="navigation" class="margintop">
            <ul id="nav">

                <li><a href="/index.html">Home</a></li>

                <li><a href="#">About Flex</a>
                    <ul>

                        <li><a href="/about-whatis.html">What is Flex?</a></li>
                        <li><a href="/about-features.html">Features</a></li>
						<li><a href="/tourdeflex/explorer.html">Tour de Flex</a></li>
                        <li><a href="/about-licensing.html">License &amp; Trademarks</a></li>
                        <li><a href="/about-people.html">The Team</a></li>
                        <li><a href="/about-history.html">Project History</a></li>
                        <li><a href="/about-assets.html">Logo and Assets</a></li>
                    </ul>
                </li>
                <li><a href="#">Community</a>
                    <ul>

                        <li><a href="/community-getinvolved.html">How to get involved</a></li>
                        <li><a href="/community-mailinglists.html">Mailing Lists</a></li>
                        <li><a href="/community-showcase.html">Flex Showcase</a></li>
						<li><a href="/community-3rdparty.html">Third-Party</a></li>
                        <li><a href="https://cwiki.apache.org/confluence/display/FLEX/Apache+Flex+Wiki">Wiki <i class="icon-share icon-white"></i></a></li>
                        <li><a href="http://blogs.apache.org/flex/">Blog <i class="icon-share icon-white"></i></a></li>
                    </ul>
                </li>

                <li><a href="#">Development</a>
                    <ul>
                        <li><a href="/dev-faq.html">Developer FAQ</a></li>
                        <li><a href="/dev-sourcecode.html">Source Code</a></li>
                        <li><a href="https://issues.apache.org/jira/browse/FLEX">Bug-Tracker <i class="icon-share icon-white"></i></a></li>
                    </ul>
                </li>

                <li><a href="#">Documentation</a>
                    <ul>

                        <li><a href="/doc-getstarted.html">Getting Started</a></li>
                        <li><a href="/doc-videos.html">Videos</a></li>
                        <li><a href="/asdoc/">Flex ASDocs</a></li>
                        <li><a href="http://help.adobe.com/en_US/flex/using/index.html">Documentation Reference (Old) <i class="icon-share icon-white"></i></a></li>
                        <li><a href="/flexunit/tutorial/">FlexUnit Tutorials</a></li>
                        <li><a href="/flexunit/asdoc/">FlexUnit ASDocs</a></li>

                    </ul>
                </li>

                <li><a href="#">About Apache</a>
                    <ul>

                        <li><a href="http://www.apache.org">The Apache Software Foundation Website <i class="icon-share icon-white"></i></a></li>
                        <li><a href="http://www.apache.org/foundation/contributing.html">Donations <i class="icon-share icon-white"></i></a></li>
                        <li><a href="http://www.apache.org/foundation/sponsorship.html">Sponsorship <i class="icon-share icon-white"></i></a></li>
                        <li><a href="http://www.apache.org/foundation/thanks.html">Thanks <i class="icon-share icon-white"></i></a></li>
                    </ul>
                </li>

                <li><a href="#" class="download">Download Flex</a>
                    <ul>

                       <li><a href="/installer.html">SDK Installer (For Application Developers)</a></li>
                       <li><a href="/download-source.html">SDK Source Code (For SDK Developers)</a></li>
                       <li><a href="/download-binaries.html">SDK Binaries (For SDK Developers)</a></li>
                       <li><a href="/download-flexjs.html">FlexJS 'beta' (For Application Developers)</a> </li>
                       <li><a href="/download-flexunit.html">FlexUnit (For Application Developers)</a> </li>
                       <li><a href="/download-blazeds.html">Blaze DS Source Code</a></li>
                       <li><a href="/download-tourdeflex.html">Tour De Flex Source Code</a></li>
                       <li><a href="/download-squiggly.html">Squiggly Spell Checker</a></li>
                       <li><a href="/download-utilities.html">Flex Utilities</a></li>
                       <li><a href="/download-archive.html">Previous Versions</a></li>`
                    </ul>
                </li>
            </ul>

        </div>
        <div class="clear"></div>

    </div>
    <!-- Navigation / End -->


    <!-- Content -->

    <div class="row-fluid">


        <!-- Page Title -->
        <div id="page-title">
            <h2>Unit 11 - Parameterized Tests</h2>
        </div>
        <!-- Page Title / End -->


    </div>

    <div class="row-fluid">

<!-- Home Page Exception -->

    <p><a href="../code/Unit11.zip"><img alt="Download" src="../images/DownloadIcon.png"/> Download Unit Project Files</a></p>
<p>Much like theories, parameterized tests take a number of possible values and apply them to methods in the test case. Unlike theories, however, parameterized tests pass or fail individually, meaning that one specific data point can fail while the others pass. While Theories are best used for reversible or mathematical concepts, parameterized testing allows for passing a series of arguments and expected results to every test in a case, some tests in a case, or each to a unique test in the case.</p>
<h3>Objectives:</h3>
<p>After completing this lesson, you should be able to:</p>
<ul>
<li>Create TestNG style parameterized tests</li>
<li>Create JUnit style parameterized tests</li>
<li>Use complex objects in parameterized tests</li>
<li>Use external data to load simple and complex objects for parameterized testing</li>
</ul>
<h3>Topics</h3>
<p>In this unit, you will learn about the following topics:</p>
<ul>
<li>Use case differences from theories</li>
<li>Declaring simple data for parameterization</li>
<li>Types of Parameterized Tests</li>
<li>Working with complex objects</li>
<li>Using external data</li>
</ul>
<h2>Use case differences from theories</h2>
<p>Theories are best used for reversible operations that must succeed in every single situation. For example, a great use of a Theory might be testing a date conversion utility. Perhaps you have a class that converts dates from Gregorian calendar dates to dates on the Buddhist calendar.</p>
<p>Using a theory, you would supply hundreds or thousands of Gregorian dates as data points. For each data point, you might convert the date to the equivalent Buddhist date. You would then convert each Buddhist date back to the Gregorian date and ensure it matched the original.</p>
<p>With the following pseudocode:</p>
<div class="highlight"><pre><span></span><code><span class="k">[DataPoints]</span>
<span class="k">[ArrayElementType("Date")]</span>
<span class="na">public static var dates:Array</span> <span class="o">=</span> <span class="s">[ 1/1/2009, </span>
<span class="s">            2/2/2010, </span>
<span class="s">            3/3/2011, </span>
<span class="s">            1/8/1970,</span>
<span class="s">            11/12/2090 ];</span>
</code></pre></div>
<p>Tested under this situation</p>
<div class="highlight"><pre><span></span><code><span class="k">[Theory]</span>
<span class="na">public function shouldConvertSuccessfully( date:Date ):void {</span>
    <span class="na">var convert:Converter</span> <span class="o">=</span> <span class="s">new Converter();</span>
<span class="s">    var bDate:BDate = converter.convertToBuddhistDate( date );</span>
<span class="s">    var gDate:Date = converter.convertToGregorianDate( bDate );</span>
<span class="s">    assertEquals( date, gDate );</span>
<span class="na">}</span>
</code></pre></div>
<p>This type of reversibility is the hallmark of a good theory case.</p>
<p>Also, remember that Theories are about using combinations of data. Given the following pseudocode:</p>
<div class="highlight"><pre><span></span><code><span class="k">[DataPoints]</span>
<span class="k">[ArrayElementType("String")]</span>
<span class="na">public static var dates:Array</span> <span class="o">=</span> <span class="s">[ "Trevor", "Joe", "Rob", "Steve" ];</span>
<span class="k">[Theory]</span>
<span class="na">public function traceNames( name1:String, name2:String ):void {</span>
  <span class="na">trace( name1 + " - " + name2 );</span>
<span class="na">}</span>
</code></pre></div>
<p>The expected output is:</p>
<div class="highlight"><pre><span></span><code><span class="err">Trevor - Trevor</span>
<span class="err">Trevor - Joe</span>
<span class="err">Trevor - Rob</span>
<span class="err">Trevor - Steve</span>
<span class="err">Joe - Trevor</span>
<span class="err">Joe - Joe</span>
<span class="err">Joe - Rob</span>
<span class="err">Joe - Steve</span>
<span class="err">Rob - Trevor</span>
<span class="err">Rob - Joe</span>
<span class="err">Rob - Rob</span>
<span class="err">Rob - Steve</span>
<span class="err">Steve - Trevor</span>
<span class="err">Steve - Joe</span>
<span class="err">Steve - Rob</span>
<span class="err">Steve - Steve</span>
</code></pre></div>
<p>This use of data point combinations starkly contrasts the use case for Parameterized testing that you will learn in the remainder of the lesson.</p>
<h2>Declaring simple data for parameterization</h2>
<p>Parameterized test cases, like Theories, have methods that accept parameters. However, that is where the comparison ends. Parameterized testing gives us a way to create tests that will use a multitude of known parameters and results.  The intention of the Parameterized test is to eliminate the need to copy and paste the same test multiple times, simply changing the input values.</p>
<p>Parameterized tests require the Parameterized runner included with FlexUnit 4.1 and later.  To use the parameterized test runner, add the RunWith metadata to the class definition.</p>
<div class="highlight"><pre><span></span><code><span class="err">[RunWith("org.flexunit.runners.Parameterized")]</span>
</code></pre></div>
<p>Parameter data is provided as an array. Inside of the array, there is an array for each argument set to be passed for each test case.  For example:</p>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="nf">var</span><span class="w"> </span><span class="k">names</span><span class="err">:</span><span class="k">Array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n"> </span>
<span class="n">    [ "Stevens", "Mary", "Mary Stevens" </span><span class="o">]</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="o">[</span><span class="n"> "Doe", "John", "John Doe" </span><span class="o">]</span><span class="w"> </span><span class="err">]</span><span class="p">;</span><span class="w"></span>
<span class="o">[</span><span class="n">Test</span><span class="o">]</span><span class="w"></span>
<span class="k">public</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">nameCombinerTest</span><span class="p">(</span><span class="w"> </span><span class="nl">lastName</span><span class="p">:</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="nl">firstName</span><span class="p">:</span><span class="n">String</span><span class="p">,</span><span class="w"> </span>
<span class="w">                    </span><span class="nl">expectedResult</span><span class="p">:</span><span class="n">String</span><span class="w"> </span><span class="p">)</span><span class="err">:</span><span class="n">void</span><span class="w"> </span><span class="err">{</span><span class="w"></span>
<span class="w">    </span><span class="n">assertEquals</span><span class="p">(</span><span class="w"> </span><span class="n">expectedResult</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">firstName</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">" "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">lastName</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="err">}</span><span class="w"></span>
</code></pre></div>
<p>There are actually two types of Parameterized tests supported by FlexUnit 4.x, which you will learn to use next.</p>
<h2>Types of parameterized test</h2>
<p>To use any form of parameterized tests requires a custom runner.  FlexUnit 4.1 includes the ParameterizedRunner which can run TestNG and JUnit style parameterized tests.</p>
<h3>TestNG</h3>
<ul>
<li>Allows specification of different data for each test method</li>
<li>Uses the dataProvider annotation to specify the data source</li>
<li>Tests have expected parameters specified as part of the test</li>
<li>Test methods will follow the order of the data provider array</li>
<li>Each test can take only one data provider</li>
</ul>
<p>Example</p>
<div class="highlight"><pre><span></span><code><span class="err">public static var data:Array = [ [ 0, 0 ], [ 1, 2 ], [ 2, 4 ] ];</span>
<span class="err">[Test( dataProvider="data")]</span>
<span class="err">public function doubleTest( value1:int, value2:int ):void {</span>
<span class="err">    assertEquals( value1, value2 * 2 );</span>
<span class="err">}</span>
</code></pre></div>
<h3>JUnit</h3>
<ul>
<li>Best for data that is needed by multiple test methods</li>
<li>All tests will use the same data</li>
<li>Data must be decorated with [Parameters] metadata</li>
<li>Values are assigned in the constructor</li>
<li>Instance variables are used to store each value</li>
<li>Test methods take no arguments</li>
</ul>
<p>Example</p>
<div class="highlight"><pre><span></span><code><span class="k">[Parameters]</span>
<span class="na">public static var data:Array</span> <span class="o">=</span> <span class="s">[ [ 0, 0 ], [ 1, 2 ], [ 2, 4 ] ];</span>
<span class="k">[Test]</span>
<span class="na">public function doubleTest():void {</span>
    <span class="na">assertEquals( value1, value2 * 2 );</span>
<span class="na">}</span>
<span class="na">private var _value1:int;</span>
<span class="na">private var _value2:int;</span>
<span class="na">public function JUnitStyleTest( value1:int, value2:int ) {</span>
    <span class="na">_value1</span> <span class="o">=</span> <span class="s">value1;</span>
<span class="s">    _value2 = value2;</span>
<span class="na">}</span>
</code></pre></div>
<h2>Working with complex objects</h2>
<p>Any type of data can be used in parameterized testing. In fact, some of the most effective testing can occur when you begin using entire objects as the parameters to methods. The following examples are all valid and intended to make you consider how polymorphism and complex types can enhance your testing capabilities.</p>
<div class="highlight"><pre><span></span><code><span class="err">public static var data:Array = [ [ new DataGrid(), 50, 70 ],</span>
<span class="err">                [ new Label(), 40, 30 ],</span>
<span class="err">                [ new Button(), 80, 50 ] ];</span>
<span class="err">[Test(dataProvider="data")]</span>
<span class="err">public function positionTest( component:UIComponent, x:Number, y:Number ):void {</span>
<span class="err">    position( component );</span>
<span class="err">    assertEquals( x, component.x );</span>
<span class="err">    assertEquals( y, component.y );</span>
<span class="err">}</span>
<span class="err">public static var data:Array = [ [ new DollarFormatter(), 50, "$50" ],</span>
<span class="err">            [ new EuroFormatter(), 50, "&amp;euro;50" ],</span>
<span class="err">            [ new PoundFormatter(), 50, "&amp;pound;50" ] ];</span>
<span class="err">[Test(dataProvider="data")]</span>
<span class="err">public function positionTest( formatter:IFormatter, value:Number, result:String ):void {</span>
<span class="err">    assertEquals( result, formatter.format( value ) );</span>
<span class="err">}</span>
</code></pre></div>
<h2>Walkthrough 1: Creating a TestNG Style Parameterized Test</h2>
<p>In this walkthrough you will perform the following tasks:</p>
<ul>
<li>Create a new class to run tests with parameterized data.</li>
<li>Apply the TestNG style of parameterized testing.</li>
</ul>
<h3>Steps</h3>
<ol>
<li>
<p>Import the FlexUnit4Training_wt1.fxp project from the Unit 11/Start folder. Please refer to Unit 2: Walkthrough 1 for instructions on importing a Flash Builder project.</p>
</li>
<li>
<p>Create a new ActionScript class named GetPointsTest.as in the math.testcases package within the tests folder.</p>
<h3><br/>Parameterized Testing Setup</h3>
</li>
<li>
<p>Mark the GetPointsTest class definition with <code>[RunWith("org.flexunit.runners.Parameterized")]</code> metadata.</p>
<div class="highlight"><pre><span></span><code><span class="k">[RunWith("org.flexunit.runners.Parameterized")]</span>
<span class="na">public class GetPointsTest {</span>
<span class="na">...</span>
<span class="na">}</span>
</code></pre></div>
</li>
<li>
<p>Add a private static constant named <code>TOLERANCE</code> of data type <code>Number</code> to the class. Set <code>TOLERANCE</code> to <code>.0001</code>.</p>
<div class="highlight"><pre><span></span><code><span class="err">private static const TOLERANCE:Number = .0001;</span>
</code></pre></div>
</li>
<li>
<p>Declare a public static array named data within the <code>GetPointsTest</code> class. The array should contain a sub array with point values as shown.</p>
<div class="highlight"><pre><span></span><code><span class="err">public static var data:Array = [</span>
<span class="err">        [ new Circle( new Point( 0, 0 ), 5 ), new Point( 5, 0 ), 0 ],</span>
<span class="err">        [ new Circle( new Point( 0, 0 ), 5 ), new Point( -5, 0 ), Math.PI ] </span>
<span class="err">];</span>
</code></pre></div>
<p>If you did not use code-completion, add the import for net.digitalprimates.math.Circle and flash.geom.Point at this time.</p>
<p>The data array contains two arrays. Each is passed as a set of parameters, and each represents one run cycle for the tests that take the data. Soon, you will write a method which takes 3 parameters, a circle, a point and a number of radians.  That test will run twice, one run using the first array and another using the second.</p>
</li>
<li>
<p>Add a public method named <code>shouldGetPointsOnCircle()</code> to the class. Mark the method with the <code>[Test(dataProvider="data")]</code> metadata.</p>
<div class="highlight"><pre><span></span><code><span class="k">[Test(dataProvider="data")]</span>
<span class="na">public function shouldGetPointsOnCircle():void {</span>
<span class="na">}</span>
</code></pre></div>
<p>Add a <code>circle</code> parameter of type <code>Circle</code>, a point parameter of type <code>Point</code>, and a <code>radians</code> parameter of type <code>Number</code> to the <code>shouldGetPointsOnCircle()</code> method.</p>
<p>The <code>[Test(dataProvider="data")]</code> metadata over the test method will ensure that the data array's values get passed in as the test method's arguments. This is known as TestNG style parameterized testing, because the data is passed into specific test methods via the metadata. TestNG is a testing framework for Java, it pioneered this annotations-based approach.</p>
<div class="highlight"><pre><span></span><code><span class="k">[Test(dataProvider="data")]</span>
<span class="na">public function shouldGetPointsOnCircle( circle:Circle, point:Point, radians:Number ):void {</span>
<span class="na">}</span>
</code></pre></div>
</li>
<li>
<p>Add a call to the <code>assertThat()</code> method. Pass <code>circle.getPointOnCircle( radians )</code> and <code>new CloseToPointMatcher( point, TOLERANCE )</code> as its arguments.</p>
<div class="highlight"><pre><span></span><code><span class="k">[Test(dataProvider="data")]</span>
<span class="na">public function shouldGetPointsOnCircle( circle:Circle, point:Point, radians:Number ):void {</span>
    <span class="na">assertThat( circle.getPointOnCircle( radians ), new CloseToPointMatcher( point, TOLERANCE ) );</span>
<span class="na">}</span>
</code></pre></div>
<p>If you did not use code-completion, add the imports for org.flexunit.assertThat and matcher.CloseToPointMatcher at this time.</p>
<p>The <code>shouldGetPointsOnCircle()</code> method uses the <code>assertThat()</code> statement with the <code>CloseToPointMatcher</code> to create the same kind of test coverage presented in BasicCircleTest class through the <code>shouldGetTopPointOnCircle()</code> and <code>shouldGetBottomPointOnCircle()</code> methods.</p>
</li>
<li>
<p>Save the GetPointsTest.as file.</p>
<h3><br/>Add the new case to the CircleSuite</h3>
</li>
<li>
<p>Open the CircleSuite.as file in the math.testcases package.</p>
</li>
<li>
<p>Add a public variable named <code>test6</code> of type <code>GetPointsTest</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">[Suite]</span>
<span class="k">[RunWith("org.flexunit.runners.Suite")]</span>
<span class="na">public class CircleSuite{</span>
    <span class="na">public var test1:BasicCircleTest;</span>
    <span class="na">public var test2:CircleConstructorTest;</span>
    <span class="na">public var test3:CircleTheory;</span>
    <span class="na">public var test4:CircleMockTest;</span>
    <span class="na">public var test5:DistanceTest;</span>
    <span class="na">public var test6:GetPointsTest;</span>
<span class="na">}</span>
</code></pre></div>
</li>
<li>
<p>Save CircleSuite.as.</p>
</li>
<li>
<p>Run the FlexUnit4Training.mxml file.</p>
<p>If FlexUnit4Training.mxml ran successfully you should see the following output in your browser window:</p>
<img alt="TestsPassed" id="shift" src="../images/unit11/image1.png"/>
<p class="caption" id="shift">Figure 1: FlexUnit tests passed</p>
</li>
</ol>
<h2>Walkthrough 2: Creating a JUnit Style Parameterized Test</h2>
<p>In this walkthrough you will perform the following tasks:</p>
<ul>
<li>Add another parameterized test to the GetPointsTest class.</li>
<li>Apply the JUnit style of parameterized testing.</li>
</ul>
<h3>Steps</h3>
<ol>
<li>
<p>Open the GetPointsTest.as file located in the math.testcases package within the tests folder.</p>
<p>Alternatively, if you didn't complete the previous lesson or your code is not functioning properly, you can import the FlexUnit4Training_wt2.fxp project from the Unit11/ start folder. Please refer to Unit 2: Walkthrough 1 for instructions on importing a Flash Builder project.</p>
<h3><br/>Add Instance variables</h3>
</li>
<li>
<p>Add three private variables to the <code>GetPointsTest</code> class. One named <code>circle</code> of type <code>Circle</code>, another named <code>point</code> of type <code>Point</code>, and another named <code>radians</code> of type <code>Number</code>.</p>
<div class="highlight"><pre><span></span><code><span class="err">private var circle:Circle;</span>
<span class="err">private var point:Point;</span>
<span class="err">private var radians:Number;</span>
</code></pre></div>
</li>
<li>
<p>Remove the <code>(dataProvider="data")</code> portion of the metadata from the <code>shouldGetPointsOnCircle()</code> test method. Also remove the parameters, as they will be replaced by the instance variables just created.</p>
<div class="highlight"><pre><span></span><code><span class="k">[Test(dataProvider="data")]</span>
<span class="na">public function shouldGetPointsOnCircle( circle:Circle, point:Point, radians:Number ):void {</span>
<span class="na">...</span>
<span class="na">}</span>
</code></pre></div>
<p>Becomes</p>
<div class="highlight"><pre><span></span><code><span class="k">[Test]</span>
<span class="na">public function shouldGetPointsOnCircle():void {</span>
<span class="na">...</span>
<span class="na">}</span>
</code></pre></div>
<h3><br/>Add a method to test point distance</h3>
</li>
<li>
<p>Add a public function named <code>shouldReturnDistanceEqualToRadius()</code> to the class.</p>
<div class="highlight"><pre><span></span><code><span class="k">[Test]</span>
<span class="na">public function shouldReturnDistanceEqualToRadius():void {</span>
<span class="na">}</span>
</code></pre></div>
</li>
<li>
<p>Within the new method, declare a variable named <code>distance</code> of data type <code>Number</code>. Set it equal to <code>Point.distance( circle.getPointOnCircle( radians ), circle.origin )</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">[Test]</span>
<span class="na">public function shouldReturnDistanceEqualToRadius():void {</span>
    <span class="na">var distance:Number</span> <span class="o">=</span> <span class="s">Point.distance( circle.getPointOnCircle( radians ), circle.origin );</span>
<span class="na">}</span>
</code></pre></div>
</li>
<li>
<p>Add a call to the <code>assertThat()</code> method. Pass in <code>distance</code> and <code>equalTo( circle.radius )</code> as its arguments.</p>
<div class="highlight"><pre><span></span><code><span class="k">[Test]</span>
<span class="na">public function shouldReturnDistanceEqualToRadius():void {</span>
    <span class="na">var distance:Number</span> <span class="o">=</span> <span class="s">Point.distance( circle.getPointOnCircle( radians ), circle.origin );</span>

    <span class="na">assertThat( distance, equalTo( circle.radius ) );</span>
<span class="na">}</span>
</code></pre></div>
<p>If you did not use code-completion, add the import for org.hamcrest.object.equalTo at this time.</p>
</li>
<li>
<p>Now you will need to create a class constructor function that assigns the parameters to the variables declared above. It will take in a circle , point, and radians parameters and assign it to the instance variable for each.</p>
<div class="highlight"><pre><span></span><code><span class="err">public function GetPointsTest( circle:Circle, point:Point, radians:Number ) {</span>
<span class="err">    this.circle = circle;</span>
<span class="err">    this.point = point;</span>
<span class="err">    this.radians = radians;</span>
<span class="err">}</span>
</code></pre></div>
</li>
<li>
<p>Mark the data array with <code>[Parameters]</code> metadata.</p>
<div class="highlight"><pre><span></span><code><span class="k">[Parameters]</span>
<span class="na">public static var data:Array</span> <span class="o">=</span> 
<span class="na">[ [ new Circle( new Point( 0, 0 ), 5 ), new Point( 5, 0 ), 0 ],</span>
  <span class="na">[ new Circle( new Point( 0, 0 ), 5 ), new Point( -5, 0 ), Math.PI ] ];</span>
</code></pre></div>
<p>In the previous walkthrough, parameters were passed in using the <code>dataProvider="data"</code> metadata. In this case, parameters are marked with <code>[Parameters]</code> metadata, which passes them into the constructor before each test method is run. This is the parameterized testing approach used in JUnit, a popular Java Unit testing framework on which FlexUnit bases much of its syntax.</p>
</li>
<li>
<p>Save GetPointsTest.as.</p>
</li>
<li>
<p>Run the FlexUnit4Training.mxml file.</p>
<p>If FlexUnit4Training.mxml ran successfully you should see the following output in your browser window:</p>
<img alt="TestsPassed" id="shift" src="../images/unit11/image2.png"/>
<p class="caption" id="shift">Figure 1: FlexUnit tests passed</p>
</li>
</ol>
<h2>Using external data</h2>
<p>External data for parameterized testing is similar to external data in theories. All external data sources use a dataloader, which must implement the IExternalDependancyLoader interface.</p>
<div class="highlight"><pre><span></span><code><span class="err">public static var dataRetriever:IExternalDependencyLoader = new ParamDataHelper( "myUrl" );</span>
</code></pre></div>
<p>Depending on the style, the loading method for data is different:</p>
<h3>TestNG</h3>
<ul>
<li>Similar to theories</li>
<li>Set a DataPoints variable and annotate it with the loader property</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">[DataPoints(loader="dataRetriever")]</span>
<span class="na">public static var data:Array;</span>
</code></pre></div>
<h3>JUnit</h3>
<ul>
<li>Loader is added as an annotation to the [Parameters]</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">[Parameters(loader="dataRetriever")]</span>
<span class="na">public static var data:Array;</span>
</code></pre></div>
<p>For more info on loading external data, see Unit 9: External Data.</p>
<h2>Walkthrough 3: Loading External Parameters</h2>
<p>In this walkthrough you will perform the following tasks:</p>
<ul>
<li>Load parameterized data from an external XML file.</li>
<li>Apply externally loaded parameters for greater test coverage.</li>
</ul>
<h3>Steps</h3>
<ol>
<li>
<p>Open the GetPointsTest.as file you created in the previous exercise.</p>
<p>Alternatively, if you didn't complete the previous lesson or your code is not functioning properly, you can import the FlexUnit4Training_wt3.fxp project from the Unit 11/Start folder. Please refer to Unit 2: Walkthrough 1Unit 2: Walkthrough 1 for instructions on importing a Flash Builder project.</p>
<h3><br/>Add the external data loader</h3>
</li>
<li>
<p>Add a public static variable named <code>getDataPointsLoader</code> of type <code>GetPointsDataHelper</code> to the <code>GetPointsTest</code> class. Instantiate the <code>GetPointsDataHelper</code> passing it a the argument <code>"xml/circlePoints.xml"</code></p>
<div class="highlight"><pre><span></span><code><span class="err">public static var getDataPointsLoader:GetPointsDataHelper =</span>
<span class="err"> new GetPointsDataHelper( "xml/circlePoints.xml" );</span>
</code></pre></div>
<p>If you did not use code-completion, add the import for helper.GetPointsDataHelper at this time.</p>
<p>The GetPointsDataHelper class implements IExternalDependencyLoader and IResponder interfaces. It is able to send and receive a data request in test case preparation. The loader itself references a data provider. In a parameterized test case, a static array uses these test parameters.</p>
</li>
<li>
<p>Remove the static values from the data Array and modify the <code>[Parameters]</code> metadata to include a loader <code>[Parameters(loader="getDataPointsLoader")]</code> metadata. It should read as follows:</p>
<div class="highlight"><pre><span></span><code><span class="k">[Parameters(loader="getDataPointsLoader")]</span>
<span class="na">public static var data:Array</span>
</code></pre></div>
</li>
<li>
<p>Save the GetPointsTest.as file.</p>
</li>
<li>
<p>Run the FlexUnit4Training.mxml file.</p>
<p>If FlexUnit4Training.mxml ran successfully you should see the following output in your browser window:</p>
<img alt="TestsPassed" id="shift" src="../images/unit11/image3.png"/>
<p class="caption" id="shift">Figure 1: FlexUnit tests passed</p>
<p>The reason that the number of tests rose significantly in this Walkthrough is because FlexUnit logs a test for each parameter set being tested. As a result, four tests have been added to the reporting window, and each represents a parameter in the circlePoints.xml file</p>
</li>
</ol>
<h2>Summary</h2>
<ul>
<li><p>The use case of Parameterized testing and Theories is different.</p></li>
<li><p>Parameterized tests pass entire sets of arguments to a method. Theories define possible combinations.</p></li>
<li><p>Parameterized require the RunWith metadata <code>[RunWith("org.flexunit.runners.Parameterized")]</code>.</p></li>
<li><p>Public static arrays containing arrays of arguments feed data into test methods and constructors depending on the style.</p></li>
<li><p>Two types of Parameterized testing: TestNG and JUnit.</p></li>
<li><p>TestNG Style - Declares a dataProvider per test method, therefore allowing different tests to use different data.</p></li>
<li><p>JUnit Style - Instantiates parameterized data to instance variables within the class constructor.</p></li>
<li><p>Complex objects can be passed as parameterized data. </p></li>
<li><p>External data can be loaded for parameterized testing with a custom loader.</p></li>
<ul>
<li><p>The loader classes used for parameterized testing are created in exact same way as those used for theories.</p></li>
</ul>
</ul>
<h2>Navigation</h2>
<ul>
<li><a href="Unit-10.html">Unit 10 - Mock Classes</a></li>
<li><a href="Unit-12.html">Unit 12 - Running Tests from Different Versions</a></li>
<li><a href="../index.html">Table of Contents / Introduction</a></li>
</ul>

<!-- Home Page Exception -->

</div></div>
<!-- Wrapper / End -->


<!-- Footer -->

<!-- Footer Top -->
<div id="footer" class="container-fluid paddingbottom" >


    <div class="row-fluid">

        <!-- About -->
        <div class="span3">
            <div class="footer-headline"><h4>About Us</h4></div>
            <p>Apache Flex® is a highly productive, open source application framework for building and maintaining expressive web applications that deploy consistently on all major browsers, desktops and devices (including smartphones, tablets and tv). It provides a modern, standards-based language and programming model that supports common design patterns suitable for developers from many backgrounds. Flex applications can be deployed with Adobe® AIR™ on desktop and mobile, including native Android™, iOS™, Windows®, macOS®, and Linux applications.</p>
        </div>

        <!-- Subscribe  -->
        <div class="span3">
            <div class="footer-headline"><h4>Subscribe</h4></div>
            <p>We have two mailing lists, one for SDK developers, and one for SDK users.</p>
            <ul>
                <li><strong>Users</strong>, send an email to <br>
                    <a href="mailto:users-subscribe@flex.apache.org">users-subscribe@flex.apache.org</a>
                </li>
                <li><strong>Contributors</strong>, send an email to <br>
                    <a href="mailto:dev-subscribe@flex.apache.org">dev-subscribe@flex.apache.org</a>
                </li>
            </ul>
        </div>

        <!-- Latest Releases -->
        <div class="span3">
            <div class="footer-headline"><h4>Latest Releases</h4></div>
            <p>
            	Apache Flex SDK : <a href="/download-binaries.html">4.16.1 (Nov 2017)</a><br />
                Apache FlexJS SDK : <a href="/download-flexjs.html">0.8.0 (Jun 2017)</a><br />
                Blaze DS : <a href="/download-blazeds.html">4.8.0 (Apr 2023)</a><br />
                Flex SDK Converter : <a href="https://github.com/apache/flex-utilities/tree/develop/flex-maven-tools/flex-sdk-converter"> 1.1.0 (Feb 2023)</a><br />
                FlexUnit : <a href="/download-flexunit.html">4.2.0 (Apr 2014)</a><br />
                SDK Installer : <a href="/installer.html">3.3.2 (Jul 2018)</a><br />
                Squiggly : <a href="/download-squiggly.html">1.1 (Oct 2014)</a><br />
                Tour De Flex : <a href="/download-tourdeflex.html">1.2 (Nov 2014)</a><br />
            </p>
        </div>

    </div>

</div>
<!-- Footer / Bottom -->
<div id="footer" class="container-fluid" style="background: #111;">
    <div class="row-fluid">
        <div class="span12">
            <div id="footer-bottom">
                Copyright © 2025 The Apache Software Foundation, Licensed under the Apache License, Version 2.0 <br>
                Apache Flex, Apache and the Apache feather logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners.
                Read more about the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">ASF's Privacy Policy</a>.
                <div id="scroll-top-top"><a href="#" title="Go to Top"></a></div>
            </div>
        </div>
    </div>

</div>

<!-- Footer / End -->

</body>

</html>