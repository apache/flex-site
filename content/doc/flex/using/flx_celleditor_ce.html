<?xml version="1.0" encoding="UTF-8"?>
<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="Advanced data display with MX item editors"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="WS2db454920e96a9e51e63e3d11c0bf69084-7cb2_verapache"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Advanced data display with MX item editors</title>
</head>
<body id="WS2db454920e96a9e51e63e3d11c0bf69084-7cb2_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf69084-7cb2_verapache"><!-- --></a>


   <h1 class="topictitle1">Advanced data display with MX item
editors</h1>

   <div>
      <p>Item editors let you modify the value of a cell of a list-based
control. The DataGrid, List, and Tree controls support item editors. </p>

      <p>
         For
an introduction to item renderers and item editors, see <a href="flx_cellrenderer_cr.html#WS2db454920e96a9e51e63e3d11c0bf69084-7fb7_verapache">MX
item renderers and item editors</a>. </p>

   </div>

   <div class="nested1" id="WS2db454920e96a9e51e63e3d11c0bf651fa-7ffb_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf651fa-7ffb_verapache"><!-- --></a>
      <h2 class="topictitle2">About the MX cell editing process</h2>

      
      <div>
         <p>The following sequence of steps occurs when a cell in a
list-based control is edited:</p>

         <ol>
            <li>
               <p>User releases the mouse button while over a cell, tabs
to a cell, or in another way attempts to edit a cell.</p>

            </li>

            <li>
               <p>Flex dispatches the <samp class="codeph">itemEditBeginning</samp> event.
You can use this event to disable editing of a specific cell or
cells. For more information, see <a href="flx_celleditor_ce.html#WS2db454920e96a9e51e63e3d11c0bf69084-7c8b_verapache">Example: Preventing
a cell from being edited</a>.</p>

            </li>

            <li>
               <p>Flex dispatches the <samp class="codeph">itemEditBegin</samp> event
to open the item editor. You can use this event to modify the data
passed to the item editor. For more information, see <a href="flx_celleditor_ce.html#WS2db454920e96a9e51e63e3d11c0bf69084-7c88_verapache">Example:
Modifying data passed to or received from an item editor</a>.</p>

            </li>

            <li>
               <p>The user edits the cell.</p>

            </li>

            <li>
               <p>The user ends the editing session. Typically the cell editing
session ends when the user removes focus from the cell. </p>

            </li>

            <li>
               <p>Flex dispatches the <samp class="codeph">itemEditEnd</samp> event to
close the item editor and update the list-based control with the
new cell data. You can use this event to modify the data returned
to the cell, validate the new data, or return data in a format other
than the format returned by the item editor. For more information,
see <a href="flx_celleditor_ce.html#WS2db454920e96a9e51e63e3d11c0bf69084-7c88_verapache">Example:
Modifying data passed to or received from an item editor</a>.</p>

            </li>

            <li>
               <p>The new data value appears in the cell. </p>

            </li>

         </ol>

      </div>

   </div>

   <div class="nested1" id="WS2db454920e96a9e51e63e3d11c0bf69084-7c9e_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf69084-7c9e_verapache"><!-- --></a>
      <h2 class="topictitle2">Creating an editable cell in MX </h2>

      
      <div>
         <p>The <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/DataGrid.html" target="_blank">DataGrid</a>, <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/List.html" target="_blank">List</a>, and <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/Tree.html" target="_blank">Tree</a> controls
include an <samp class="codeph">editable</samp> property that you set to <samp class="codeph">true</samp> to
let users edit the contents of the control. By default, the value
of the <samp class="codeph">editable</samp> property is <samp class="codeph">false</samp>,
which means that you cannot edit the cells. For a DataGrid control,
setting the <samp class="codeph">editable</samp> property to <samp class="codeph">true</samp> enables
editing for all columns of the grid. You can disable editing for
any column by setting the <samp class="codeph">DatagridColumn.editable</samp> property
to <samp class="codeph">false</samp>. </p>

         <p>Your list-based controls can use the default item editor (TextInput
control), a custom item editor, or a custom item renderer as an
editor. The <samp class="codeph">rendererIsEditor</samp> property of the list-based
controls determines whether you can use an item renderer as an item
editor, as the following table shows: </p>

         
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all">
               
               
               
               <thead align="left">
                  <tr>
                     <th class="cellrowborder" valign="top" width="NaN%" id="d66816e180">
                        <p>rendererIsEditor property</p>

                     </th>

                     <th class="cellrowborder" valign="top" width="NaN%" id="d66816e186">
                        <p>itemRenderer property</p>

                     </th>

                     <th class="cellrowborder" valign="top" width="NaN%" id="d66816e192">
                        <p>itemEditor property</p>

                     </th>

                  </tr>

               </thead>

               <tbody>
                  <tr>
                     <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e180 ">
                        <p>
                           <samp class="codeph">false</samp> (default)</p>

                     </td>

                     <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e186 ">
                        <p>Specifies the item renderer.</p>

                     </td>

                     <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e192 ">
                        <p>Specifies the item editor. </p>

                        <p>Selecting
the cell opens the item editor as defined by the <samp class="codeph">itemEditor</samp> property.
If the <samp class="codeph">itemEditor</samp> property is undefined, use the
default item editor (TextInput control).</p>

                     </td>

                  </tr>

                  <tr>
                     <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e180 ">
                        <p>
                           <samp class="codeph">true</samp>
                        </p>

                     </td>

                     <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e186 ">
                        <p>Specifies the item renderer to display the
cell contents. You can use the item renderer as an item editor. </p>

                     </td>

                     <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e192 ">
                        <p>Ignored.</p>

                     </td>

                  </tr>

               </tbody>

            </table>
</div>

         <p>As this table shows, the state of the <samp class="codeph">rendererIsEditor</samp> property
defines whether to use a custom item renderer as the item editor,
or a custom item editor. If you set the <samp class="codeph">rendererIsEditor</samp> property
to <samp class="codeph">true</samp>, Flex uses the item renderer as an item
editor, and ignores the <samp class="codeph">itemEditor</samp> property.</p>

         <p>For an example, see <a href="flx_celleditor_ce.html#WS2db454920e96a9e51e63e3d11c0bf69084-7ca2_verapache">Example:
Using an item renderer as an item editor</a>.</p>

      </div>

   </div>

   <div class="nested1" id="WS2db454920e96a9e51e63e3d11c0bf69084-7c8c_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf69084-7c8c_verapache"><!-- --></a>
      <h2 class="topictitle2">Returning data from an MX item
editor</h2>

      
      <div>
         <p>
            By
default, Flex expects an item editor to return a single value to
the list-based control. You use the <samp class="codeph">editorDataField</samp> property
of the list-based control to specify the property of the item editor
that contains the new data. Flex converts the value to the appropriate
data type for the cell. </p>

         <p>The default item editor is a <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/TextInput.html" target="_blank">TextInput</a> control.
Therefore, the default value of the <samp class="codeph">editorDataField</samp> property
is <samp class="codeph">"text"</samp>, which corresponds to the <samp class="codeph">text</samp> property
of the TextInput control. If you specify a custom item editor, you
also set the <samp class="codeph">editorDataField</samp> property to the appropriate
property of the item editor, as the following example shows:</p>

         <pre class="codeblock">&lt;?xml version="1.0"?&gt; 
&lt;!-- itemRenderers\dropin\DropInNumStepper.mxml --&gt; 
&lt;s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx"&gt; 
    
    &lt;fx:Script&gt; 
        &lt;![CDATA[                
            import mx.collections.ArrayCollection; 
        
            [Bindable] 
            private var myDP:ArrayCollection = new ArrayCollection([ 
                {label1:"Order #2314", quant:3, Sent:true}, 
                {label1:"Order #2315", quant:3, Sent:false}     
            ]);               
        ]]&gt; 
    &lt;/fx:Script&gt; 
 
    &lt;mx:DataGrid id="myDG" dataProvider="{myDP}" 
        variableRowHeight="true" 
        editable="true" &gt; 
        &lt;mx:columns&gt; 
            &lt;mx:DataGridColumn dataField="label1" headerText="Order #"/&gt; 
            &lt;mx:DataGridColumn dataField="quant" 
                headerText="Qty" 
                itemEditor="mx.controls.NumericStepper"  
                editorDataField="value" 
            /&gt; 
        &lt;/mx:columns &gt; 
    &lt;/mx:DataGrid&gt; 
&lt;/s:Application&gt;</pre>

         <p>In the preceding example, you use a <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/NumericStepper.html" target="_blank">NumericStepper</a> control
as the item editor, and therefore set the <samp class="codeph">editorDataField</samp> property
to <samp class="codeph">"value"</samp>, the property of the NumericStepper
control that contains the new cell data. </p>

      </div>

      <div class="nested2" id="WS2db454920e96a9e51e63e3d11c0bf69084-7c82_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf69084-7c82_verapache"><!-- --></a>
         <h3 class="topictitle3">Defining a property to return data</h3>

         
         <div>
            <p>An item editor can contain more than a single component.
For example, the following item editor contains a parent <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/containers/VBox.html" target="_blank">VBox</a> container
with a child <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/CheckBox.html" target="_blank">CheckBox</a> control
used to edit the cell:</p>

            <pre class="codeblock">&lt;?xml version="1.0"?&gt; 
&lt;!-- itemRenderers\dataGrid\myComponents\EditorDGCheckBox.mxml --&gt; 
&lt;mx:VBox xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx" 
    backgroundColor="yellow"&gt; 
 
    &lt;fx:Script&gt; 
        &lt;![CDATA[ 
            // Define a property for returning the new value to the cell. 
            public var cbSelected:Boolean;            
        ]]&gt; 
    &lt;/fx:Script&gt; 
   
    &lt;mx:CheckBox id="followUpCB" label="Follow up needed" 
        height="100%" width="100%" 
        selected="{data.FollowUp}" 
        click="cbSelected=followUpCB.selected" 
        updateComplete="cbSelected=followUpCB.selected;"/&gt; 
&lt;/mx:VBox&gt;</pre>

            <p>In the preceding example, when the user selects the cell, Flex
displays the CheckBox control in a yellow background, as defined
by the parent VBox container. The user then selects or deselects
the CheckBox control to set the new value for the cell. </p>

            <p>To return a value to the list-based control, the VBox container
defines a new property named <samp class="codeph">cbSelected</samp>. This is
necessary because you can only set the <samp class="codeph">editorDataField</samp> property
to a property of the top-level component of the item editor. That
means you cannot set <samp class="codeph">editorDataField</samp> to the <samp class="codeph">selected</samp> property
of the CheckBox control when it is a child of the VBox container. </p>

            <p>You use the <samp class="codeph">updateComplete</samp> event to set the
value of the <samp class="codeph">cbSelected</samp> property in case the user
selects the cell to open the CheckBox control, but does not change
the state of the CheckBox control.</p>

            <p>In the following example, you use this item editor in a <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/DataGrid.html" target="_blank">DataGrid</a> control
that displays a list of customer contacts. The list includes the
company name, contact name, and phone number, and a column that
indicates whether you must follow up with that contact.</p>

            <pre class="codeblock">&lt;?xml version="1.0"?&gt; 
&lt;!-- itemRenderers\dataGrid\MainDGCheckBoxEditor.mxml --&gt; 
&lt;s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx" 
    width="650"&gt; 
    
    &lt;fx:Script&gt; 
        &lt;![CDATA[ 
            import mx.collections.ArrayCollection; 
        
            [Bindable] 
            private var initDG:ArrayCollection = new ArrayCollection([ 
                {Company: 'Acme', Contact: 'Bob Jones', 
                    Phone: '413-555-1212', Date: '5/5/05' , FollowUp: true }, 
                {Company: 'Allied', Contact: 'Jane Smith', 
                    Phone: '617-555-3434', Date: '5/6/05' , FollowUp: false} 
            ]); 
        ]]&gt; 
    &lt;/fx:Script&gt; 
 
    &lt;mx:DataGrid id="myGrid" 
        dataProvider="{initDG}" 
        editable="true" &gt;  
        &lt;mx:columns&gt; 
            &lt;mx:DataGridColumn dataField="Company" editable="false"/&gt; 
            &lt;mx:DataGridColumn dataField="Contact"/&gt; 
            &lt;mx:DataGridColumn dataField="Phone"/&gt; 
            &lt;mx:DataGridColumn dataField="Date"/&gt; 
            &lt;mx:DataGridColumn dataField="FollowUp" 
                width="150" 
                headerText="Follow Up?" 
                itemEditor="myComponents.EditorDGCheckBox" 
                editorDataField="cbSelected"/&gt; 
        &lt;/mx:columns&gt;       
    &lt;/mx:DataGrid&gt;  
&lt;/s:Application&gt;</pre>

            <p>Notice that the <samp class="codeph">editorDataField</samp> property is
set to <samp class="codeph">cbSelected</samp>, the new property of the VBox
container.</p>

            <p>You also use this same mechanism with an inline item renderer
that contains multiple controls. For example, you can modify the
previous DataGrid example to use an inline item editor, rather than
an item editor component, as the following code shows:</p>

            <pre class="codeblock">&lt;?xml version="1.0"?&gt; 
&lt;!-- itemRenderers\inline\InlineDGCheckBoxEditor.mxml --&gt; 
&lt;s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx" 
    width="650"&gt; 
    
    &lt;fx:Script&gt; 
        &lt;![CDATA[ 
            import mx.collections.ArrayCollection; 
        
            [Bindable] 
            private var initDG:ArrayCollection = new ArrayCollection([ 
                {Company: 'Acme', Contact: 'Bob Jones', 
                    Phone: '413-555-1212', Date: '5/5/05' , FollowUp: true }, 
                {Company: 'Allied', Contact: 'Jane Smith', 
                    Phone: '617-555-3434', Date: '5/6/05' , FollowUp: false} 
            ]); 
        ]]&gt; 
    &lt;/fx:Script&gt; 
 
    &lt;mx:DataGrid id="myGrid" 
        dataProvider="{initDG}" 
        editable="true"&gt;  
        &lt;mx:columns&gt; 
            &lt;mx:DataGridColumn dataField="Company" editable="false"/&gt; 
            &lt;mx:DataGridColumn dataField="Contact"/&gt; 
            &lt;mx:DataGridColumn dataField="Phone"/&gt; 
            &lt;mx:DataGridColumn dataField="Date"/&gt; 
            &lt;mx:DataGridColumn dataField="FollowUp" 
                width="150" 
                headerText="Follow Up?" 
                editorDataField="cbSelected"&gt; 
                
                &lt;mx:itemEditor&gt; 
                    &lt;fx:Component&gt; 
                        &lt;mx:VBox backgroundColor="yellow"&gt;          
                            &lt;fx:Script&gt; 
                                &lt;![CDATA[ 
                                    // Define a property for returning 
                                    // the new value to the cell. 
                                    [Bindable] 
                                    public var cbSelected:Boolean; 
                                ]]&gt;     
                            &lt;/fx:Script&gt; 
                       
                            &lt;mx:CheckBox id="followUpCB" 
                                label="Follow up needed" 
                                height="100%" width="100%" 
                                selected="{data.FollowUp}" 
                                click="cbSelected=followUpCB.selected"/&gt; 
                        &lt;/mx:VBox&gt; 
                    &lt;/fx:Component&gt; 
                &lt;/mx:itemEditor&gt; 
            &lt;/mx:DataGridColumn&gt; 
        &lt;/mx:columns&gt;       
    &lt;/mx:DataGrid&gt;  
&lt;/s:Application&gt;</pre>

         </div>

      </div>

   </div>

   <div class="nested1" id="WS2db454920e96a9e51e63e3d11c0bf651fa-7ff6_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf651fa-7ff6_verapache"><!-- --></a>
      <h2 class="topictitle2">Sizing and positioning an MX item
editor</h2>

      
      <div>
         <p>When an item editor appears, it appears as a pop-up control
above the selected cell of the list-based control. The list-based
control also hides the current value of the cell. </p>

         <p>The CheckBox control in the previous example, <a href="flx_celleditor_ce.html#WS2db454920e96a9e51e63e3d11c0bf69084-7c82_verapache">Defining
a property to return data</a>, sizes itself to 100% for both <samp class="codeph">width</samp> and <samp class="codeph">height</samp>,
and the <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/containers/VBox.html" target="_blank">VBox</a> container sets
its <samp class="codeph">backgroundColor</samp> style property to yellow. By
sizing the item editor to the size of the cell, and by setting the
background color of the container, you completely cover the underlying
cell. </p>

         <p>The following table describes the properties of the list-based
controls that you can use to size the item editor:</p>

         
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all">
               
               
               <thead align="left">
                  <tr>
                     <th class="cellrowborder" valign="top" width="NaN%" id="d66816e476">
                        <p>Property</p>

                     </th>

                     <th class="cellrowborder" valign="top" width="NaN%" id="d66816e482">
                        <p>Description</p>

                     </th>

                  </tr>

               </thead>

               <tbody>
                  <tr>
                     <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e476 ">
                        <p>
                           <samp class="codeph">editorHeightOffset</samp>
                        </p>

                     </td>

                     <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e482 ">
                        <p>Specifies the height of the item editor,
in pixels, relative to the size of the cell for a DataGridColumn
control, or the text field of a Tree control. </p>

                     </td>

                  </tr>

                  <tr>
                     <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e476 ">
                        <p>
                           <samp class="codeph">editorWidthOffset</samp>
                        </p>

                     </td>

                     <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e482 ">
                        <p>Specifies the width of the item editor,
in pixels, relative to the size of the cell for a DataGridColum
control, or the text field of a Tree control.</p>

                     </td>

                  </tr>

                  <tr>
                     <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e476 ">
                        <p>
                           <samp class="codeph">editorXOffset</samp>
                        </p>

                     </td>

                     <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e482 ">
                        <p>Specifies the <em>x</em> location of the upper-left
corner of the item editor, in pixels, relative to the upper-left
corner of the cell for a DataGridColumn control, or from the upper-left
corner of the text field of a Tree control.</p>

                     </td>

                  </tr>

                  <tr>
                     <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e476 ">
                        <p>
                           <samp class="codeph">editorYOffset</samp>
                        </p>

                     </td>

                     <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e482 ">
                        <p>Specifies the <em>y</em> location of the upper-left
corner of the item editor, in pixels, relative to the upper-left
corner of the cell for a DataGridColumn control, or from the upper-left
corner of the text field of a Tree control.</p>

                     </td>

                  </tr>

               </tbody>

            </table>
</div>

         <p>The following code modifies the definition of the <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/dataGridClasses/DataGridColumn.html" target="_blank">DataGridColumn</a> control
from the previous section to use the <samp class="codeph">editorXOffset</samp> and <samp class="codeph">editorYOffset</samp> properties
to move the item editor down and to the right by 15 pixels so that
it has a more prominent appearance in the DataGrid control: </p>

         <pre class="codeblock">&lt;?xml version="1.0"?&gt; 
&lt;!-- itemRenderers\inline\InlineDGCheckBoxEditorWithOffsets.mxml --&gt; 
&lt;s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx" 
    width="650"&gt; 
    
    &lt;fx:Script&gt; 
        &lt;![CDATA[ 
            import mx.collections.ArrayCollection; 
        
            [Bindable] 
            private var initDG:ArrayCollection = new ArrayCollection([ 
                {Company: 'Acme', Contact: 'Bob Jones', 
                    Phone: '413-555-1212', Date: '5/5/05' , FollowUp: true }, 
                {Company: 'Allied', Contact: 'Jane Smith', 
                    Phone: '617-555-3434', Date: '5/6/05' , FollowUp: false} 
            ]); 
        ]]&gt; 
    &lt;/fx:Script&gt; 
 
    &lt;mx:DataGrid id="myGrid" 
        dataProvider="{initDG}" 
        editable="true" &gt;  
        &lt;mx:columns&gt; 
            &lt;mx:DataGridColumn dataField="Company" editable="false"/&gt; 
            &lt;mx:DataGridColumn dataField="Contact"/&gt; 
            &lt;mx:DataGridColumn dataField="Phone"/&gt; 
            &lt;mx:DataGridColumn dataField="Date"/&gt; 
            &lt;mx:DataGridColumn dataField="FollowUp" 
                width="150" 
                headerText="Follow Up?" 
                editorDataField="cbSelected" 
                editorXOffset="15" 
                editorYOffset="15"&gt; 
                
                &lt;mx:itemEditor&gt; 
                    &lt;fx:Component&gt; 
                        &lt;mx:VBox backgroundColor="yellow"&gt;          
                            &lt;fx:Script&gt; 
                                &lt;![CDATA[ 
                                    // Define a property for returning 
                                    // the new value to the cell. 
                                    [Bindable] 
                                    public var cbSelected:Boolean; 
                                ]]&gt;     
                            &lt;/fx:Script&gt; 
                       
                            &lt;mx:CheckBox id="followUpCB" 
                                label="Follow up needed" 
                                height="100%" width="100%" 
                                selected="{data.FollowUp}" 
                                click="cbSelected=followUpCB.selected"/&gt; 
                        &lt;/mx:VBox&gt; 
                    &lt;/fx:Component&gt; 
                &lt;/mx:itemEditor&gt; 
            &lt;/mx:DataGridColumn&gt; 
        &lt;/mx:columns&gt;       
    &lt;/mx:DataGrid&gt;  
&lt;/s:Application&gt;</pre>

      </div>

   </div>

   <div class="nested1" id="WS2db454920e96a9e51e63e3d11c0bf651fa-7fed_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf651fa-7fed_verapache"><!-- --></a>
      <h2 class="topictitle2">Creating an MX item editor that
responds to the Enter key</h2>

      
      <div>
         <p>When you use the default item editor in a list-based control,
you can edit the cell value, and then press the Enter key to move
focus to the next cell in the control. When you create a simple
item editor that contains only a single component, and that component
implements the IFocusable interface, the item editor also responds
to the Enter key. The following components implement the IFocusable interface: <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/containers/Accordion.html" target="_blank">Accordion</a>, <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/Button.html" target="_blank">Button</a>, <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/ButtonBar.html" target="_blank">ButtonBar</a>, <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/ComboBase.html" target="_blank">ComboBase</a>, <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/DateChooser.html" target="_blank">DateChooser</a>, <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/DateField.html" target="_blank">DateField</a>, <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/listClasses/ListBase.html" target="_blank">ListBase</a>, <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/MenuBar.html" target="_blank">MenuBar</a>, <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/NumericStepper.html" target="_blank">NumericStepper</a>, <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/containers/TabNavigator.html" target="_blank">TabNavigator</a>, <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/TextArea.html" target="_blank">TextArea</a>,
and <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/TextInput.html" target="_blank">TextInput</a>.</p>

         <p>In the following example, you define a complex item renderer
with a <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/containers/VBox.html" target="_blank">VBox</a> container
as the top-level component and a CheckBox control as its child component:</p>

         <pre class="codeblock">&lt;?xml version="1.0"?&gt; 
&lt;!-- itemRenderers\dataGrid\myComponents\EditorDGCheckBox.mxml --&gt; 
&lt;mx:VBox xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx" 
    backgroundColor="yellow"&gt; 
 
    &lt;fx:Script&gt; 
        &lt;![CDATA[ 
            // Define a property for returning the new value to the cell. 
            public var cbSelected:Boolean;            
        ]]&gt; 
    &lt;/fx:Script&gt; 
   
    &lt;mx:CheckBox id="followUpCB" label="Follow up needed" 
        height="100%" width="100%" 
        selected="{data.FollowUp}" 
        click="cbSelected=followUpCB.selected" 
        updateComplete="cbSelected=followUpCB.selected;"/&gt; 
&lt;/mx:VBox&gt;</pre>

         <p>
            When
this item editor opens, the <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/CheckBox.html" target="_blank">CheckBox</a> control
can obtain focus for editing, but pressing the Enter key does not
move focus to the next cell because the parent VBox container does
not implement the <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/managers/IFocusManagerComponent.html" target="_blank">IFocusManagerComponent</a> interface.
You can modify this example to implement the IFocusManagerComponent
interface, as the following code shows:</p>

         <pre class="codeblock">&lt;?xml version="1.0"?&gt; 
&lt;!-- itemRenderers\dataGrid\myComponents\EditorDGCheckBoxFocusable.mxml --&gt; 
&lt;mx:VBox xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx" 
    backgroundColor="yellow" 
    implements="mx.managers.IFocusManagerComponent" &gt; 
 
    &lt;fx:Script&gt; 
        &lt;![CDATA[ 
            // Define a property for returning the new value to the cell. 
            public var cbSelected:Boolean; 
            
            // Implement the drawFocus() method for the VBox. 
            override public function drawFocus(isFocused:Boolean):void { 
                // This method can be empty, or you can use it 
                // to make a visual change to the component. 
            } 
        ]]&gt; 
    &lt;/fx:Script&gt; 
   
    &lt;mx:CheckBox id="followUpCB" 
        label="Follow up needed" 
        height="100%" width="100%" 
        selected="{data.FollowUp}" 
        click="cbSelected=followUpCB.selected" 
        updateComplete="cbSelected=followUpCB.selected;"/&gt; 
&lt;/mx:VBox&gt;</pre>

         <p>While the IFocusManagerComponent interface defines several properties
and methods, the UIComponent class defines or inherits implementations
for all of them except for the <samp class="codeph">drawFocus()</samp> method.
Therefore, you only have to implement that one method so that your
item editor responds to the Enter key.</p>

      </div>

   </div>

   <div class="nested1" id="WS2db454920e96a9e51e63e3d11c0bf651fa-7ffa_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf651fa-7ffa_verapache"><!-- --></a>
      <h2 class="topictitle2">Using MX cell editing events</h2>

      
      <div>
         <p>
            A
list component dispatches the following events as part of the cell
editing process: the <samp class="codeph">itemEditBeginning</samp>, <samp class="codeph">itemEditBegin</samp>,
and the <samp class="codeph">itemEditEnd</samp> events. The list-based controls
define default event listeners for all three of these events. </p>

         <p>You can write your own event listeners for one or more of these
events to customize the editing process. When you write your own
event listener, it executes before the default event listener, which
is defined by the component, and then the default listener executes.
For example, you can modify the data passed to or returned from
an item editor. You can modify the data in the event listener for
the <samp class="codeph">itemEditBegin</samp> event. When it completes, the
default event listener runs to continue the editing process. </p>

         <p>However, you can replace the default event listener for the component
with your own event listener. To prevent the default event listener
from executing, you call the <samp class="codeph">preventDefault()</samp> method
from anywhere in your event listener. </p>

         <p>Use the following events when you create an item editor:</p>

         <ol>
            <li>
               <p>
                  <samp class="codeph">itemEditBeginning</samp> 
               </p>

               <p>Dispatched
when the user releases the mouse button while over a cell, tabs
to a cell, or in any way attempts to edit a cell. </p>

               <p>The list-based
controls have a default listener for the <samp class="codeph">itemEditBeginning</samp> event
that sets the <samp class="codeph">editedItemPosition</samp> property of the
list-based control to the cell that has focus.</p>

               <p>You typically
write your own event listener for this event to prevent editing
of a specific cell or cells. To prevent editing, call the <samp class="codeph">preventDefault()</samp> method
from within your event listener, which stops the default event listener from
executing, and prevents any editing from occurring on the cell.
For more information, see <a href="flx_celleditor_ce.html#WS2db454920e96a9e51e63e3d11c0bf69084-7c8b_verapache">Example:
Preventing a cell from being edited</a>.</p>

            </li>

            <li>
               <p>
                  <samp class="codeph">itemEditBegin</samp>
               </p>

               <p>Dispatched before an
item editor opens. </p>

               <p>The list components have a default listener
for the <samp class="codeph">itemEditBegin</samp> event that calls the <samp class="codeph">createItemEditor()</samp> method
to perform the following actions:</p>

               <ul>
                  <li>
                     <p>Creates an item
editor object, and copies the <samp class="codeph">data</samp> property from
the cell to the editor. By default, the item editor object is an
instance of the TextInput control. You use the <samp class="codeph">itemEditor</samp> property
of the list-based control to specify a custom item editor class.</p>

                  </li>

                  <li>
                     <p>Sets the <samp class="codeph">itemEditorInstance</samp> property of
the list-based control to reference the item editor object. </p>

                  </li>

               </ul>

               <p>You
can write an event listener for this event to modify the data passed
to the item editor. For example, you might modify the data, its
format, or other information used by the item editor. For more information,
see <a href="flx_celleditor_ce.html#WS2db454920e96a9e51e63e3d11c0bf69084-7c88_verapache">Example:
Modifying data passed to or received from an item editor</a>. </p>

               <p>You
can also create an event listener to determine which item editor
you use to edit the cell. For example, you might have two different
item editors. Within the event listener, you can examine the data
to be edited, open the appropriate item editor by setting the <samp class="codeph">itemEditor</samp> property
to the appropriate editor, and then call the <samp class="codeph">createItemEditor()</samp> method.
In this case, first you call <samp class="codeph">preventDefault()</samp> to
stop Flex from calling the <samp class="codeph">createItemEditor()</samp> method
as part of the default event listener.</p>

               <p>You can call the <samp class="codeph">createItemEditor()</samp> method
only from within the event listener for the <samp class="codeph">itemEditBegin</samp> event.
To create an editor at other times, set the <samp class="codeph">editedItemPosition</samp> property
to generate the <samp class="codeph">itemEditBegin</samp> event.</p>

            </li>

            <li>
               <p>
                  <samp class="codeph">itemEditEnd</samp>
               </p>

               <p>Dispatched when the cell
editing session ends, typically when focus is removed from the cell. </p>

               <p>The
list components have a default listener for this event that copies
the data from the item editor to the data provider of the list-based
control. The default event listener performs the following actions:</p>

               <ul>
                  <li>
                     <p>Uses the <samp class="codeph">editorDataField</samp> property of the
list-based control to determine the property of the item editor
that contains the new data. The default item editor is the TextInput
control, so the default value of the <samp class="codeph">editorDataField</samp> property
is <samp class="codeph">"text"</samp> to specify that the <samp class="codeph">text</samp> property
of the TextInput control contains the new cell data. </p>

                  </li>

                  <li>
                     <p>Depending on the reason for ending the editing session, the
default event listener calls the <samp class="codeph">destroyItemEditor()</samp> method
to close the item editor. For more information, see <a href="flx_celleditor_ce.html#WS2db454920e96a9e51e63e3d11c0bf69084-7c87_verapache">Determining
the reason for an itemEditEnd event</a>.</p>

                  </li>

               </ul>

               <p>You
typically write an event listener for this event to perform the
following actions:</p>

               <ul>
                  <li>
                     <p>Modify the data returned from the
item editor. </p>

                     <p>In your event listener, you can modify the data
returned by the editor to the list-based control. For example, you
can reformat the data before returning it to the list-based control. </p>

                  </li>

                  <li>
                     <p>Examine the data entered into the item editor:</p>

                     <p>In your
event listener, you can examine the data entered into the item editor.
If the data is incorrect, you can call the <samp class="codeph">preventDefault()</samp> method
to stop Flex from passing the new data back to the list-based control
and from closing the editor. </p>

                  </li>

               </ul>

            </li>

         </ol>

      </div>

      <div class="nested2" id="WS2db454920e96a9e51e63e3d11c0bf651fa-7ff8_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf651fa-7ff8_verapache"><!-- --></a>
         <h3 class="topictitle3">Cell editing event classes</h3>

         
         <div>
            <p>Each editable list-based control has a corresponding class
that defines the event object for the cell editing events, as the
following table shows:</p>

            
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all">
                  
                  
                  <thead align="left">
                     <tr>
                        <th class="cellrowborder" valign="top" width="NaN%" id="d66816e957">
                           <p>List class</p>

                        </th>

                        <th class="cellrowborder" valign="top" width="NaN%" id="d66816e963">
                           <p>Event class</p>

                        </th>

                     </tr>

                  </thead>

                  <tbody>
                     <tr>
                        <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e957 ">
                           <p>
                              <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/DataGrid.html" target="_blank">DataGrid</a>
                           </p>

                        </td>

                        <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e963 ">
                           <p>
                              <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/events/DataGridEvent.html" target="_blank">DataGridEvent</a>
                           </p>

                        </td>

                     </tr>

                     <tr>
                        <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e957 ">
                           <p>
                              <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/List.html" target="_blank">List</a>
                           </p>

                        </td>

                        <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e963 ">
                           <p>
                              <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/events/ListEvent.html" target="_blank">ListEvent</a>
                           </p>

                        </td>

                     </tr>

                     <tr>
                        <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e957 ">
                           <p>
                              <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/Tree.html" target="_blank">Tree</a>
                           </p>

                        </td>

                        <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e963 ">
                           <p>
                              <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/events/ListEvent.html" target="_blank">ListEvent</a>
                           </p>

                        </td>

                     </tr>

                  </tbody>

               </table>
</div>

            <p>Notice that the event class for the List and Tree controls is <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/events/ListEvent.html" target="_blank">ListEvent</a>. </p>

            <p>When defining the event listener for a list-based control, ensure
that you specify the correct type for the event object passed to
the event listener, as the following example shows for a DataGrid
control:</p>

            <pre class="codeblock"> public function myCellEndEvent(event:DataGridEvent):void { 
 	// Define event listener. 
 }		</pre>

         </div>

      </div>

      <div class="nested2" id="WS2db454920e96a9e51e63e3d11c0bf651fa-7feb_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf651fa-7feb_verapache"><!-- --></a>
         <h3 class="topictitle3">Accessing cell data and the item
editor in an event listener</h3>

         
         <div>
            <p>From within an event listener, you can access the current
value of the cell being edited, the new value entered by the user,
or the item editor used to edit the cell. </p>

            <p>To access the current value of a cell, you use the <samp class="codeph">editedItemRenderer</samp> property
of the list-based control. The <samp class="codeph">editedItemRenderer</samp> property contains
the data that corresponds to the cell being edited. For <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/List.html" target="_blank">List</a> and <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/Tree.html" target="_blank">Tree</a> controls,
this property contains the data provider element for the cell. For
a <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/DataGrid.html" target="_blank">DataGrid</a> control,
it contains the data provider element for the entire row of the DataGrid.</p>

            <p>To access the new cell value and the item editor, you use the <samp class="codeph">itemEditorInstance</samp> property
of the list-based control. The <samp class="codeph">itemEditorInstance</samp> property
is not initialized until after the event listener for the <samp class="codeph">cellBeginEvent</samp> listener
executes. Therefore, you typically access the <samp class="codeph">itemEditorInstance</samp> property
only from within the event listener for the <samp class="codeph">itemEditEnd</samp> event.</p>

            <p>The following example shows an event listener for the <samp class="codeph">itemEditEnd</samp> event
that uses these properties:</p>

            <pre class="codeblock">&lt;?xml version="1.0"?&gt; 
&lt;!-- itemRenderers\events\EndEditEventAccessEditor.mxml --&gt; 
&lt;s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx"&gt; 
    
    &lt;fx:Script&gt; 
        &lt;![CDATA[ 
        
            import mx.controls.TextInput; 
            import mx.events.DataGridEvent; 
            import mx.collections.ArrayCollection; 
        
            [Bindable] 
            private var initDG:ArrayCollection = new ArrayCollection([ 
                {Artist:'Pavement', Album:'Slanted and Enchanted', 
                    Price:11.99}, 
                {Artist:'Pavement', Album:'Brighten the Corners', 
                    Price:11.99 } 
            ]); 
            
            // Define event listener for the itemEditEnd event. 
            private function getCellInfo(event:DataGridEvent):void { 
                
                // Get the cell editor and cast it to TextInput. 
                var myEditor:TextInput = 
                    TextInput(event.currentTarget.itemEditorInstance); 
                
                // Get the new value from the editor. 
                var newVal:String = myEditor.text; 
                
                // Get the old value. 
                var oldVal:String = 
            event.currentTarget.editedItemRenderer.data[event.dataField]; 
            
                // Write out the cell coordinates, new value, 
                // and old value to the TextArea control. 
                cellInfo.text = "cell edited.\n"; 
                cellInfo.text += "Row, column: " + event.rowIndex + ", " + 
                    event.columnIndex + "\n"; 
                cellInfo.text += "New value: " + newVal + "\n"; 
                cellInfo.text += "Old value: " + oldVal; 
            }                               
        ]]&gt; 
    &lt;/fx:Script&gt; 
 
    &lt;mx:TextArea id="cellInfo" width="300" height="150" /&gt; 
    
    &lt;mx:DataGrid id="myGrid" 
        dataProvider="{initDG}" 
        editable="true" 
        itemEditEnd="getCellInfo(event);" &gt;    
        &lt;mx:columns&gt; 
            &lt;mx:DataGridColumn dataField="Artist"/&gt; 
            &lt;mx:DataGridColumn dataField="Album"/&gt; 
            &lt;mx:DataGridColumn dataField="Price"/&gt; 
        &lt;/mx:columns&gt;       
    &lt;/mx:DataGrid&gt;  
&lt;/s:Application&gt;</pre>

            <p>In this example, you access the item editor, and cast it to the
correct editor class. The default item editor is a TextInput control,
so you cast it to TextInput. If you had defined a custom item editor,
you would cast it to that class. After you have a reference to the
item editor, you can access its properties to obtain the new cell value.</p>

            <p>To access the old value of the cell, you use the <samp class="codeph">editedItemRenderer</samp> property
of the DataGrid control. You then use the <samp class="codeph">dataField</samp> property
of the event object to access the <samp class="codeph">data</samp> property
for the edited column.</p>

         </div>

      </div>

      <div class="nested2" id="WS2db454920e96a9e51e63e3d11c0bf69084-7c87_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf69084-7c87_verapache"><!-- --></a>
         <h3 class="topictitle3">Determining the reason for an itemEditEnd
event</h3>

         
         <div>
            <p>A user can end a cell editing session in several ways.
In the body of the event listener for the <samp class="codeph">itemEditEnd</samp> event,
you can determine the reason for the event, and then handle it accordingly.</p>

            <p>Each event class for a list-based control defines the <samp class="codeph">reason</samp> property,
which contains a value that indicates the reason for the event.
The <samp class="codeph">reason</samp> property has the following values:</p>

            
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all">
                  
                  
                  <thead align="left">
                     <tr>
                        <th class="cellrowborder" valign="top" width="NaN%" id="d66816e1181">
                           <p>Value</p>

                        </th>

                        <th class="cellrowborder" valign="top" width="NaN%" id="d66816e1187">
                           <p>Description</p>

                        </th>

                     </tr>

                  </thead>

                  <tbody>
                     <tr>
                        <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e1181 ">
                           <div class="p">
                              <pre class="codeblock">CANCELLED</pre>

                           </div>

                        </td>

                        <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e1187 ">
                           <p>Specifies that the user canceled editing
and that they do not want to save the edited data. Even if you call
the <samp class="codeph">preventDefault()</samp> method from within your event
listener for the <samp class="codeph">itemEditEnd</samp> event, Flex still
calls the <samp class="codeph">destroyItemEditor()</samp> method to close the
editor. </p>

                        </td>

                     </tr>

                     <tr>
                        <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e1181 ">
                           <div class="p">
                              <pre class="codeblock">NEW_COLUMN</pre>

                           </div>

                        </td>

                        <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e1187 ">
                           <p>(DataGrid only) Specifies that the user
moved focus to a new column in the same row. In an event listener,
you can let the focus change occur, or prevent it. </p>

                           <p>For example,
your event listener might check that the user entered a valid value
for the cell currently being edited. If not, you can prevent the
user from moving to a new cell by calling the <samp class="codeph">preventDefault()</samp> method.
In this case, the item editor remains open, and the user continues
to edit the current cell. If you call the <samp class="codeph">preventDefault()</samp> method and
also call the <samp class="codeph">destroyItemEditor()</samp> method, you block
the move to the new cell, but the item editor closes. </p>

                        </td>

                     </tr>

                     <tr>
                        <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e1181 ">
                           <div class="p">
                              <pre class="codeblock">NEW_ROW</pre>

                           </div>

                        </td>

                        <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e1187 ">
                           <p>Specifies that the user moved focus to a
new row. You handle this value for the <samp class="codeph">reason</samp> property
similar to the way you handle the <samp class="codeph">NEW_COLUMN</samp> value.</p>

                        </td>

                     </tr>

                     <tr>
                        <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e1181 ">
                           <div class="p">
                              <pre class="codeblock">OTHER</pre>

                           </div>

                        </td>

                        <td class="cellrowborder" valign="top" width="NaN%" headers="d66816e1187 ">
                           <p>Specifies that the list-based control lost
focus, was scrolled, or is somehow in a state where editing is not
allowed. Even if you call the <samp class="codeph">preventDefault()</samp> method
from within your event listener for the <samp class="codeph">itemEditEnd</samp> event,
Flex still calls the <samp class="codeph">destroyItemEditor()</samp> method
to close the editor. </p>

                        </td>

                     </tr>

                  </tbody>

               </table>
</div>

            <p>The following example uses the <samp class="codeph">itemEditEnd</samp> event
to ensure that the user did not enter an empty String in a cell.
If there is an empty String, the <samp class="codeph">itemEditEnd</samp> event
calls <samp class="codeph">preventDefault()</samp> method to prohibit the user
from removing focus from the cell until the user enters a valid
value. However, if the <samp class="codeph">reason</samp> property for the <samp class="codeph">itemEditEnd</samp> event
has the value <samp class="codeph">CANCELLED</samp>, the event listener does
nothing: </p>

            <pre class="codeblock">&lt;?xml version="1.0"?&gt; 
&lt;!-- itemRenderers\events\EndEditEventFormatter.mxml --&gt; 
&lt;s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx"&gt; 
    
    &lt;fx:Script&gt; 
        &lt;![CDATA[ 
        
            import mx.controls.TextInput; 
            import mx.events.DataGridEvent; 
            import mx.events.DataGridEventReason; 
            import mx.formatters.NumberFormatter; 
            import mx.collections.ArrayCollection; 
        
            [Bindable] 
            private var initDG:ArrayCollection = new ArrayCollection([ 
                {Artist:'Pavement', Album:'Slanted and Enchanted', 
                    Price:11.99}, 
                {Artist:'Pavement', Album:'Brighten the Corners', 
                    Price:11.99 } 
            ]); 
            
            private var myFormatter:NumberFormatter=new NumberFormatter(); 
            
            public function formatData(event:DataGridEvent):void {                  
                // Check the reason for the event. 
                if (event.reason == DataGridEventReason.CANCELLED) 
                { 
                    // Do not update cell. 
                    return; 
                } 
 
                // Get the new data value from the editor. 
                var newData:String= 
                    TextInput(event.currentTarget.itemEditorInstance).text; 
 
                if(newData == "") 
                { 
                    // Prevent the user from removing focus, 
                    // and leave the cell editor open. 
                    event.preventDefault(); 
                    // Write a message to the errorString property. 
                    // This message appears when the user 
                    // mouses over the editor. 
                    TextInput(myGrid.itemEditorInstance).errorString= 
                        "Enter a valid string."; 
                } 
            }           
                        
        ]]&gt; 
    &lt;/fx:Script&gt; 
    
    &lt;mx:DataGrid id="myGrid" 
        dataProvider="{initDG}" 
        editable="true" 
        itemEditEnd="formatData(event);"&gt; 
        &lt;mx:columns&gt; 
            &lt;mx:DataGridColumn dataField="Artist"/&gt; 
            &lt;mx:DataGridColumn dataField="Album"/&gt; 
            &lt;mx:DataGridColumn dataField="Price"/&gt; 
        &lt;/mx:columns&gt;       
    &lt;/mx:DataGrid&gt;  
&lt;/s:Application&gt;</pre>

            <p>In this example, if the user’s reason for the event is <samp class="codeph">CANCELLED</samp>,
the event listener does nothing. </p>

            <p>If the reason is <samp class="codeph">NEW_COLUMN</samp>, <samp class="codeph">NEW_ROW</samp>,
or <samp class="codeph">OTHER</samp>, the event listener performs the following
actions:</p>

            <ol>
               <li>
                  <p>Checks if the new cell value is an empty String. </p>

               </li>

               <li>
                  <p>If it is an empty String, the event listener calls the <samp class="codeph">preventDefault()</samp> method
to prevent Flex from closing the editor and from updating the cell with
the empty String.</p>

               </li>

               <li>
                  <p>Writes a message to the <samp class="codeph">errorString</samp> property
of the TextInput control. This message causes a red box to appear
around the TextInput control, and the message appears as a tooltip
when the user moves the mouse over the cell.</p>

               </li>

            </ol>

         </div>

      </div>

   </div>

   <div class="nested1" id="WS2db454920e96a9e51e63e3d11c0bf651fa-7ff1_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf651fa-7ff1_verapache"><!-- --></a>
      <h2 class="topictitle2">MX item editor examples</h2>

      
      <div>
         <p/>

      </div>

      <div class="nested2" id="WS2db454920e96a9e51e63e3d11c0bf69084-7c8b_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf69084-7c8b_verapache"><!-- --></a>
         <h3 class="topictitle3">Example: Preventing a cell from
being edited</h3>

         
         <div>
            <p>From within an event listener for the <samp class="codeph">itemEditBeginning</samp> event,
you can inspect the cell being edited, and prevent the edit from
occurring. This technique is useful when you want to prevent editing
of a specific cell or cells, but allow editing of other cells.</p>

            <p>For example, the <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/DataGrid.html" target="_blank">DataGrid</a> control
uses the <samp class="codeph">editable</samp> property to make all cells in
the DataGrid control editable. You can override that for a specific
column, using the <samp class="codeph">editable</samp> property of a <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/dataGridClasses/DataGridColumn.html" target="_blank">DataGridColumn</a>,
but you cannot enable or disable editing for specific cells. </p>

            <p>To prevent cell editing, call the <samp class="codeph">preventDefault()</samp> method
from within your event listener for the <samp class="codeph">itemEditBeginning</samp> event,
as the following example shows:</p>

            <pre class="codeblock">&lt;?xml version="1.0"?&gt; 
&lt;!-- itemRenderers\events\EndEditEventPreventEdit.mxml --&gt; 
&lt;s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx"&gt; 
    
    &lt;fx:Script&gt; 
        &lt;![CDATA[ 
        
            import mx.events.DataGridEvent; 
            import mx.collections.ArrayCollection; 
        
            [Bindable] 
            private var initDG:ArrayCollection = new ArrayCollection([ 
                {Artist:'Pavement', Album:'Slanted and Enchanted', 
                    Price:11.99}, 
                {Artist:'Pavement', Album:'Brighten the Corners', 
                    Price:11.99} 
            ]); 
            
            // Define event listener for the cellEdit event 
            // to prohibit editing of the Album column. 
            private function disableEditing(event:DataGridEvent):void { 
                if(event.columnIndex==1) 
                {  
                    event.preventDefault(); 
                } 
            }   
                            
        ]]&gt; 
    &lt;/fx:Script&gt; 
    
    &lt;mx:DataGrid id="myGrid" 
        dataProvider="{initDG}" 
        editable="true" 
        itemEditBeginning="disableEditing(event);" &gt;   
        &lt;mx:columns&gt; 
            &lt;mx:DataGridColumn dataField="Artist"/&gt; 
            &lt;mx:DataGridColumn dataField="Album"/&gt; 
            &lt;mx:DataGridColumn dataField="Price"/&gt; 
        &lt;/mx:columns&gt;       
    &lt;/mx:DataGrid&gt;  
&lt;/s:Application&gt;</pre>

            <p>Although the preceding example uses the column index, you could
inspect any property of the DataGrid, or of the cell being edited,
to make your decision about allowing the user to edit the cell. </p>

         </div>

      </div>

      <div class="nested2" id="WS2db454920e96a9e51e63e3d11c0bf69084-7c88_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf69084-7c88_verapache"><!-- --></a>
         <h3 class="topictitle3">Example: Modifying data passed
to or received from an item editor</h3>

         
         <div>
            <p>You can use the <samp class="codeph">itemEditBegin</samp> and <samp class="codeph">itemEditEnd</samp> events
to examine the data passed to and from the item editor, and modify
it if necessary. For example, you could reformat the data, extract
a part of the data for editing, or examine the data to validate
it. </p>

            <p>In the next example, you use a NumericStepper control to edit
the Price column of a DataGrid control. The <samp class="codeph">itemEditBegin</samp> event
modifies the data passed to the NumericStepper to automatically
add 20% to the price when you edit it. Use the NumericStepper control
to modify the updated price as necessary.</p>

            <pre class="codeblock">&lt;?xml version="1.0"?&gt; 
&lt;!-- itemRenderers\events\BeginEditEventAccessEditor.mxml --&gt; 
&lt;s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx"&gt; 
 
    &lt;fx:Script&gt; 
      &lt;![CDATA[ 
        import mx.events.DataGridEvent; 
        import mx.controls.NumericStepper; 
        import mx.collections.ArrayCollection; 
        import mx.controls.listClasses.IDropInListItemRenderer; 
    
        [Bindable]                
        private var myDP:ArrayCollection = new ArrayCollection([ 
            {Artist:'Pavement', Album:'Slanted and Enchanted', Price:11.99}, 
            {Artist:'Pavement', Album:'Crooked Rain, Crooked Rain', Price:10.99}, 
            {Artist:'Pavement', Album:'Wowee Zowee', Price:12.99}, 
            {Artist:'Pavement', Album:'Brighten the Corners', Price:11.99}, 
            {Artist:'Pavement', Album:'Terror Twilight', Price:11.99} 
        ]);               
            
        // Handle the itemEditBegin event. 
        private function modifyEditedData(event:DataGridEvent):void 
        { 
            // Get the name of the column being editted. 
            var colName:String = myDataGrid.columns[event.columnIndex].dataField; 
    
            if(colName=="Price") 
            { 
                // Handle the event here. 
                event.preventDefault(); 
        
                // Creates an item editor.                
                myDataGrid.createItemEditor(event.columnIndex,event.rowIndex); 
                
                // All item editors must implement the IDropInListItemRenderer interface 
                // and the listData property. 
                // Initialize the listData property of the editor. 
                IDropInListItemRenderer(myDataGrid.itemEditorInstance).listData = 
                    IDropInListItemRenderer(myDataGrid.editedItemRenderer).listData; 
                
                // Copy the cell value to the NumericStepper control. 
                myDataGrid.itemEditorInstance.data = myDataGrid.editedItemRenderer.data; 
 
                // Add 20 percent to the current price. 
                NumericStepper(myDataGrid.itemEditorInstance).value += 
                    0.2 * NumericStepper(myDataGrid.itemEditorInstance).value;    
           } 
        } 
      ]]&gt; 
    &lt;/fx:Script&gt; 
 
    &lt;mx:DataGrid id="myDataGrid" dataProvider="{myDP}" 
        editable="true" 
        itemEditBegin="modifyEditedData(event);" 
        rowHeight="60"&gt; 
        &lt;mx:columns&gt; 
            &lt;mx:DataGridColumn dataField="Artist" /&gt; 
            &lt;mx:DataGridColumn dataField="Album" width="130" /&gt; 
            &lt;mx:DataGridColumn dataField="Price" editorDataField="value"&gt; 
                &lt;mx:itemEditor&gt; 
                    &lt;fx:Component&gt; 
                        &lt;mx:NumericStepper stepSize="0.01" maximum="500"/&gt; 
                    &lt;/fx:Component&gt; 
                &lt;/mx:itemEditor&gt; 
            &lt;/mx:DataGridColumn&gt; 
        &lt;/mx:columns&gt; 
    &lt;/mx:DataGrid&gt; 
&lt;/s:Application&gt;</pre>

            <p>You could use one of the Flex formatter classes to format data
returned from an item editor. In the following example, you let
the user edit the Price column of a <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/DataGrid.html" target="_blank">DataGrid</a> control.
You then define an event listener for the <samp class="codeph">itemEditEnd</samp> event that
uses the <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/formatters/NumberFormatter.html" target="_blank">NumberFormatter</a> class
to format the new cell value so that it contains only two digits
after the decimal point, as the following code shows:</p>

            <pre class="codeblock">&lt;?xml version="1.0"?&gt; 
&lt;!-- itemRenderers\events\EndEditEventFormatter.mxml --&gt; 
&lt;s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx" &gt; 
    
    &lt;fx:Script&gt; 
        &lt;![CDATA[ 
        
            import mx.controls.TextInput; 
            import mx.events.DataGridEvent; 
            import mx.events.DataGridEventReason; 
            import mx.formatters.NumberFormatter; 
            import mx.collections.ArrayCollection; 
        
            [Bindable] 
            private var initDG:ArrayCollection = new ArrayCollection([ 
                {Artist:'Pavement', Album:'Slanted and Enchanted', 
                    Price:11.99}, 
                {Artist:'Pavement', Album:'Brighten the Corners', 
                    Price:11.99 } 
            ]); 
            
            // Define the number formatter. 
            private var myFormatter:NumberFormatter=new NumberFormatter(); 
            
            // Define the eventlistner for the itemEditEnd event. 
            public function formatData(event:DataGridEvent):void {   
                // Check the reason for the event. 
                if (event.reason == DataGridEventReason.CANCELLED) 
                { 
                    // Do not update cell. 
                    return; 
                }            
                // Get the new data value from the editor. 
                var newData:String= 
                    TextInput(event.currentTarget.itemEditorInstance).text; 
 
                // Determine if the new value is an empty String. 
                if(newData == "") { 
                    // Prevent the user from removing focus, 
                    // and leave the cell editor open. 
                    event.preventDefault(); 
                    // Write a message to the errorString property. 
                    // This message appears when the user 
                    // mouses over the editor. 
                    TextInput(myGrid.itemEditorInstance).errorString= 
                        "Enter a valid string."; 
                    return; 
                } 
 
                // For the Price column, return a value 
                // with a precision of 2. 
                if(event.dataField == "Price") { 
                    myFormatter.precision=2; 
                    TextInput(myGrid.itemEditorInstance).text= 
                        myFormatter.format(newData); 
                } 
            }           
        ]]&gt; 
    &lt;/fx:Script&gt; 
    
    &lt;mx:DataGrid id="myGrid" 
        dataProvider="{initDG}" 
        editable="true" 
        itemEditEnd="formatData(event);" &gt; 
        &lt;mx:columns&gt; 
            &lt;mx:DataGridColumn dataField="Artist"/&gt; 
            &lt;mx:DataGridColumn dataField="Album"/&gt; 
            &lt;mx:DataGridColumn dataField="Price"/&gt; 
        &lt;/mx:columns&gt;       
    &lt;/mx:DataGrid&gt;  
&lt;/s:Application&gt;</pre>

         </div>

      </div>

      <div class="nested2" id="WS2db454920e96a9e51e63e3d11c0bf69084-7ca2_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf69084-7ca2_verapache"><!-- --></a>
         <h3 class="topictitle3">Example: Using an item renderer
as an item editor</h3>

         
         <div>
            <p>If you set the <samp class="codeph">rendererIsEditor</samp> property
of the <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/DataGrid.html" target="_blank">DataGrid</a>, <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/List.html" target="_blank">List</a>, or <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/Tree.html" target="_blank">Tree</a> control
to <samp class="codeph">true</samp>, the control uses the default <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/TextInput.html" target="_blank">TextInput</a> control
as the item editor, or the item renderer that specifies the <samp class="codeph">itemRenderer</samp> property.
If you specify an item renderer, you must ensure that you include
editable controls in it so that the user can edit values. </p>

            <p>For example, the following item renderer displays information
in the cell by using the TextInput control, and lets the user edit
the cell’s contents:</p>

            <pre class="codeblock">&lt;?xml version="1.0"?&gt; 
&lt;!-- itemRenderers\dataGrid\myComponents\MyContactEditable.mxml --&gt; 
&lt;mx:VBox xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx"&gt; 
 
   &lt;fx:Script&gt; 
        &lt;![CDATA[ 
            // Define a property for returning the new value to the cell. 
            [Bindable] 
            public var newContact:String; 
        ]]&gt; 
    &lt;/fx:Script&gt; 
 
    &lt;mx:Label id="title" text="{data.label1}"/&gt; 
    &lt;mx:Label id="contactLabel" text="Last Contacted By:"/&gt; 
    &lt;mx:TextInput id="contactTI" 
        editable="true" 
        text="{data.Contact}" 
        change="newContact=contactTI.text;"/&gt; 
&lt;/mx:VBox&gt;</pre>

            <p>You can use this item renderer with a DataGrid control, as the
following example shows:</p>

            <pre class="codeblock">&lt;?xml version="1.0"?&gt; 
&lt;!-- itemRenderers\dataGrid\MainAppEditable.mxml --&gt; 
&lt;s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx" 
    height="700" width="700"&gt; 
    
    &lt;fx:Script&gt; 
        &lt;![CDATA[ 
            import mx.collections.ArrayCollection; 
        
            [Bindable] 
            private var initDG:ArrayCollection = new ArrayCollection([ 
                {label1: "Order #2314", Contact: "John Doe", 
                    Confirmed: false, Photo: "john_doe.jpg", Sent: false}, 
                {label1: "Order #2315", Contact: "Jane Doe", 
                    Confirmed: true, Photo: "jane_doe.jpg", Sent: false} 
            ]); 
        ]]&gt; 
    &lt;/fx:Script&gt; 
 
    &lt;mx:DataGrid id="myDG" 
        width="500" height="250" 
        dataProvider="{initDG}" 
        variableRowHeight="true"  
        editable="true"&gt; 
        &lt;mx:columns&gt; 
            &lt;mx:DataGridColumn dataField="Photo" 
                editable="false"/&gt; 
            &lt;mx:DataGridColumn dataField="Contact" 
                width="200" 
                editable="true" 
                rendererIsEditor="true" 
                itemRenderer="myComponents.MyContactEditable" 
                editorDataField="newContact"/&gt; 
            &lt;mx:DataGridColumn dataField="Confirmed" 
                editable="true" 
                rendererIsEditor="true" 
                itemRenderer="mx.controls.CheckBox" 
                editorDataField="selected"/&gt; 
            &lt;mx:DataGridColumn dataField="Sent" 
                editable="true" 
                rendererIsEditor="false" 
                itemEditor="mx.controls.CheckBox" 
                editorDataField="selected"/&gt; 
        &lt;/mx:columns&gt; 
    &lt;/mx:DataGrid&gt; 
&lt;/s:Application&gt;</pre>

            <p>In the previous example, you use the item renderer as the item
editor by setting the <samp class="codeph">rendererIsEditor</samp> property
to <samp class="codeph">true</samp> in the second and third columns of the
DataGrid control. </p>

         </div>

      </div>

      <div class="nested2" id="WS2db454920e96a9e51e63e3d11c0bf651fa-7ff5_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf651fa-7ff5_verapache"><!-- --></a>
         <h3 class="topictitle3">Example: Using a data validator
in a custom item editor</h3>

         
         <div>
            <p>Just as you can validate data in other types of controls,
you can validate data in the cells of list-based controls. To do
so, you can create an item renderer or item editor that incorporates
a data validator. For more information about data validators, see <a href="flx_validators_va.html#WS2db454920e96a9e51e63e3d11c0bf69084-7ff0_verapache">Validating
Data</a>.</p>

            <p>The following example shows the code for the validating item
editor component. It uses a TextInput control to edit the field.
In this example, you assign a <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/validators/PhoneNumberValidator.html" target="_blank">PhoneNumberValidator</a> validator
to the <samp class="codeph">text</samp> property of the <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/TextInput.html" target="_blank">TextInput</a> control
to validate the user input:</p>

            <pre class="codeblock">&lt;?xml version="1.0"?&gt; 
&lt;!-- itemRenderers\validator\myComponents\EditorPhoneValidator.mxml --&gt; 
&lt;mx:VBox xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx"&gt; 
    
    &lt;fx:Script&gt; 
        &lt;![CDATA[           
            // Define a property for returning the new value to the cell. 
            [Bindable] 
            public var returnPN:String; 
        ]]&gt; 
    &lt;/fx:Script&gt; 
    
    &lt;fx:Declarations&gt; 
        &lt;mx:PhoneNumberValidator id="pnV" 
            source="{newPN}" 
            property="text" 
            trigger="{newPN}" 
            triggerEvent="change" 
            required="true"/&gt; 
    &lt;/fx:Declarations&gt; 
    
    &lt;mx:TextInput id="newPN" 
        text="{data.phone}" 
        updateComplete="returnPN=newPN.text;" 
        change="returnPN=newPN.text;"/&gt;            
&lt;/mx:VBox&gt; </pre>

            <p>If the user enters an incorrect phone number, the PhoneNumberValidator
draws a red box around the editor and shows a validation error message
when the user moves the mouse over it.</p>

            <p>The following example shows the code for the application that
uses this item editor: </p>

            <pre class="codeblock">&lt;?xml version="1.0" ?&gt; 
&lt;!-- itemRenderers\validator\MainDGValidatorEditor.mxml --&gt; 
&lt;s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx"&gt; 
 
    &lt;fx:Script&gt; 
        &lt;![CDATA[ 
            import mx.collections.ArrayCollection; 
        
            [Bindable] 
            private var initDG:ArrayCollection = new ArrayCollection([ 
                {name: 'Bob Jones', phone: '413-555-1212', 
                    email: 'bjones@acme.com'}, 
                {name: 'Sally Smith', phone: '617-555-5833', 
                    email: 'ssmith@acme.com'}, 
            ]); 
        ]]&gt; 
    &lt;/fx:Script&gt; 
    
    &lt;mx:DataGrid id="dg" 
        width="500" height="200" 
        editable="true" 
        dataProvider="{initDG}"&gt; 
        &lt;mx:columns&gt; 
            &lt;mx:DataGridColumn dataField="name" 
                headerText="Name" /&gt; 
            &lt;mx:DataGridColumn dataField="phone" 
                headerText="Phone" 
                itemEditor="myComponents.EditorPhoneValidator" 
                editorDataField="returnPN"/&gt; 
            &lt;mx:DataGridColumn dataField="email" headerText="Email" /&gt; 
        &lt;/mx:columns&gt; 
    &lt;/mx:DataGrid&gt; 
&lt;/s:Application&gt;</pre>

         </div>

      </div>

   </div>

   <div class="nested1" id="WS2db454920e96a9e51e63e3d11c0bf651fa-7fff_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf651fa-7fff_verapache"><!-- --></a>
      <h2 class="topictitle2">Examples using MX item editors
with the list-based controls</h2>

      
      <div>
         <p/>

      </div>

      <div class="nested2" id="WS2db454920e96a9e51e63e3d11c0bf651fa-7ffe_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf651fa-7ffe_verapache"><!-- --></a>
         <h3 class="topictitle3">Example: Using an item editor with
an MX DataGrid control</h3>

         
         <div>
            <p>
               For
examples of using item editors with the <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/DataGrid.html" target="_blank">DataGrid</a> control,
see <a href="flx_celleditor_ce.html#WS2db454920e96a9e51e63e3d11c0bf69084-7c8c_verapache">Returning
data from an MX item editor</a>. </p>

         </div>

      </div>

      <div class="nested2" id="WS2db454920e96a9e51e63e3d11c0bf651fa-7ffd_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf651fa-7ffd_verapache"><!-- --></a>
         <h3 class="topictitle3">Example: Using a custom item editor
with an MX List control</h3>

         
         <div>
            <p>You can add an item editor to a <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/List.html" target="_blank">List</a> control
to let users edit the information for each state, as the following
item editor shows:</p>

            <pre class="codeblock">&lt;?xml version="1.0"?&gt; 
&lt;!-- itemRenderers\list\myComponents\EditorStateInfo.mxml --&gt; 
&lt;mx:VBox xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx"&gt; 
 
    &lt;mx:TextInput id="newLabel" text="{data.label}" /&gt; 
    &lt;mx:TextInput id="newData" text="{data.data}" /&gt; 
    &lt;mx:TextInput id="newWebPage" text="{data.webPage}" /&gt; 
&lt;/mx:VBox&gt;</pre>

            <p>You define an item editor that contains three <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/TextInput.html" target="_blank">TextInput</a> controls
that let the user edit the state name, capital, or web address.
This item editor returns three values, so you write an event listener
for the itemEditEnd event to write the values to the data provider
of the List control, as the following example shows:</p>

            <pre class="codeblock">&lt;?xml version="1.0"?&gt; 
&lt;!-- itemRenderers\list\MainListStateRendererEditor.mxml --&gt; 
&lt;s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx" 
    height="700" width="700"&gt; 
 
    &lt;fx:Script&gt; 
        &lt;![CDATA[ 
 
            import mx.events.ListEvent; 
            import myComponents.EditorStateInfo; 
                        
            // Define the event listener. 
            public function processData(event:ListEvent):void {                 
                // Disable copying data back to the control. 
                event.preventDefault(); 
 
                // Get new label from editor. 
                myList.editedItemRenderer.data.label = 
    EditorStateInfo(event.currentTarget.itemEditorInstance).newLabel.text; 
 
                // Get new data from editor. 
                myList.editedItemRenderer.data.data = 
    EditorStateInfo(event.currentTarget.itemEditorInstance).newData.text; 
 
                // Get new webPage from editor. 
                myList.editedItemRenderer.data.webPage = 
    EditorStateInfo(event.currentTarget.itemEditorInstance).newWebPage.text; 
 
                // Close the cell editor. 
                myList.destroyItemEditor(); 
                    
                // Notify the list control to update its display. 
        myList.dataProvider.itemUpdated(myList.editedItemRenderer); 
            } 
        ]]&gt; 
    &lt;/fx:Script&gt; 
 
    &lt;mx:List id="myList" 
        height="180" width="250" 
        editable="true" 
        itemRenderer="myComponents.RendererState" 
        itemEditor="myComponents.EditorStateInfo" 
        variableRowHeight="true" 
        itemEditEnd="processData(event);"&gt; 
        &lt;mx:dataProvider&gt; 
            &lt;fx:Object label="Alaska" 
                data="Juneau" 
                webPage="http://www.state.ak.us/"/&gt; 
            &lt;fx:Object label="Alabama" 
                data="Montgomery" 
                webPage="http://www.alabama.gov/" /&gt; 
            &lt;fx:Object label="Arkansas" 
                data="Little Rock" 
                webPage="http://www.state.ar.us/"/&gt; 
        &lt;/mx:dataProvider&gt; 
    &lt;/mx:List&gt; 
&lt;/s:Application&gt;</pre>

            <p>This example uses the RendererState.mxml renderer. You can see
that renderer in the section <a href="flx_cellrenderer_cr.html#WS2db454920e96a9e51e63e3d11c0bf69084-7cae_verapache">Example:
Using an item renderer with an MX List control</a>.</p>

            <div class="section" id="WS2db454920e96a9e51e63e3d11c0bf651fa-7ffd_verapache__WS2db454920e96a9e51e63e3d11c0bf651fa-7ff9_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf651fa-7ffd_verapache__WS2db454920e96a9e51e63e3d11c0bf651fa-7ff9_verapache"><!-- --></a><h4 class="sectiontitle">Using
a DateField or ComboBox control as a drop-in item editor</h4>
               
               <p>You
can use a <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/DateField.html" target="_blank">DateField</a> or <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/ComboBox.html" target="_blank">ComboBox</a> control
as a drop-in item editor with the <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/List.html" target="_blank">List</a> control.
However, when the data provider is a collection of Objects, you
have to set the <samp class="codeph">labelField</samp> property of the List
control to the name of the field in the data provider modified by
the DateField or ComboBox control, as the following example shows:
	</p>

               <pre class="codeblock">&lt;?xml version="1.0"?&gt; 
&lt;!-- itemRenderers\list\ListEditorDateField.mxml --&gt; 
&lt;s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx"&gt; 
 
    &lt;fx:Script&gt; 
        &lt;![CDATA[ 
        
            import mx.collections.*; 
            import mx.controls.DateField; 
            import mx.collections.ArrayCollection; 
           
            [Bindable] 
            private var catalog:ArrayCollection = new ArrayCollection([    
                {confirmed: new Date(), Location: "Spain"}, 
                {confirmed: new Date(2006,0,15), Location: "Italy"}, 
                {confirmed: new Date(2004,9,24), Location: "Bora Bora"}, 
                {confirmed: new Date(), Location: "Vietnam"} 
            ]); 
        ]]&gt; 
    &lt;/fx:Script&gt; 
 
    &lt;mx:List id="myList" 
        width="300" height="300" 
        rowHeight="50" 
        dataProvider="{catalog}" 
        editable="true" 
        labelField="confirmed" 
        itemEditor="mx.controls.DateField" 
        editorDataField="selectedDate"/&gt; 
&lt;/s:Application&gt;</pre>

               <p>In this example, you specify <samp class="codeph">"confirmed"</samp> as
the value of the <samp class="codeph">labelField</samp> property to specify
that the DateField control modifies that field of the data provider. </p>

            </div>

         </div>

      </div>

      <div class="nested2" id="WS2db454920e96a9e51e63e3d11c0bf651fa-7ff7_verapache"><a name="WS2db454920e96a9e51e63e3d11c0bf651fa-7ff7_verapache"><!-- --></a>
         <h3 class="topictitle3">Example: Using a custom item editor
with an MX Tree control</h3>

         
         <div>
            <p>In a <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/Tree.html" target="_blank">Tree</a> control,
you often display a single label for each node in the tree. However,
the data provider for each node may contain additional data that
is normally hidden from view. </p>

            <p>In this example, you use the Tree control to display contact
information for different companies. The Tree control displays the
company name as a branch node, and different department names within
the company as leaf nodes. Selecting any node opens a custom item
editor that lets you modify the phone number or contact status of
the company or for any department in the company. </p>

            <p>The top node in the Tree control is not editable. Therefore,
this example uses the <samp class="codeph">itemEditBeginning</samp> event to
determine if the user selects the top node. If selected, the event
listener for the <samp class="codeph">itemEditBeginning</samp> event prevents editing
from occurring, as the following example shows:</p>

            <pre class="codeblock">&lt;?xml version="1.0"?&gt; 
&lt;!-- itemRenderers\tree\MainTreeEditor.mxml --&gt; 
&lt;s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx" 
    width="600" height="600"&gt; 
 
    &lt;fx:Script&gt; 
        &lt;![CDATA[ 
        
        import mx.events.ListEvent;     
        import myComponents.TreeEditor; 
 
        private var contacts1:Object = 
          {label: "top", children: [ 
            {label: "Acme", status: true, phone: "243-333-5555", children: [ 
              {label: "Sales", status: true, phone: "561-256-5555"}, 
              {label: "Support", status: false, phone: "871-256-5555"} 
            ]}, 
            {label: "Ace", status: true, phone: "444-333-5555", children: [ 
              {label: "Sales", status: true, phone: "232-898-5555"}, 
              {label: "Support", status: false, phone: "977-296-5555"}, 
            ]}, 
            {label: "Platinum", status: false, phone: "521-256-5555"} 
        ]}; 
            
        private function initCatalog(cat:Object):void { 
            myTree.dataProvider = cat; 
        } 
            
        // Define the event listener for the itemEditBeginning event 
        // to disable editing when the user selects 
        // the top node in the tree. 
        private function disableEditing(event:ListEvent):void { 
            if(event.rowIndex==0) {  
                event.preventDefault(); 
            } 
        }                                       
            
        // Define the event listener for the itemEditEnd event 
        // to copy the updated data back to the data provider 
        // of the Tree control. 
        public function processData(event:ListEvent):void {    
                            
            // Disable copying data back to the control. 
            event.preventDefault(); 
 
            // Get new phone number from editor. 
            myTree.editedItemRenderer.data.phone = 
    TreeEditor(event.currentTarget.itemEditorInstance).contactPhone.text; 
 
            // Get new status from editor. 
            myTree.editedItemRenderer.data.status = 
    TreeEditor(event.currentTarget.itemEditorInstance).confirmed.selected; 
 
            // Close the cell editor. 
            myTree.destroyItemEditor(); 
                    
            // Notify the list control to update its display. 
    myTree.dataProvider.itemUpdated(myTree.editedItemRenderer); 
        }                       
        ]]&gt;     
    &lt;/fx:Script&gt; 
    
    &lt;mx:Tree id="myTree" 
        width="400" height="400" 
        editable="true"  
        itemEditor="myComponents.TreeEditor" 
        editorHeightOffset="75" editorWidthOffset="-100" 
        editorXOffset="40" editorYOffset="30" 
        creationComplete="initCatalog(contacts1);" 
        itemEditBeginning="disableEditing(event);" 
        itemEditEnd="processData(event);"/&gt; 
&lt;/s:Application&gt;</pre>

            <p>You specify the custom item editor using the <samp class="codeph">itemEditor</samp> property
of a Tree control. You also use the <samp class="codeph">editorHeightOffset</samp>, <samp class="codeph">editorWidthOffset</samp>, <samp class="codeph">editorXOffset</samp>,
and <samp class="codeph">editorYOffset</samp> properties to position the item editor.</p>

            <p>The following item editor, defined in the file TreeEditor.mxml,
lets you edit the data associated with each item in a Tree control:</p>

            <pre class="codeblock">&lt;?xml version="1.0" encoding="iso-8859-1"?&gt; 
&lt;!-- itemRenderers/tree/myComponents/TreeEditor.mxml --&gt; 
&lt;mx:VBox xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx"&gt; 
 
    &lt;fx:Script&gt; 
        &lt;![CDATA[ 
 
            // Define variables for the new data. 
            public var newPhone:String; 
            public var newConfirmed:Boolean; 
 
        ]]&gt;     
    &lt;/fx:Script&gt; 
 
    &lt;!-- Display item label.--&gt; 
    &lt;mx:Label text="{data.label}"/&gt; 
 
    &lt;!-- Display the text 'Phone:' and let the user edit it.--&gt; 
    &lt;mx:HBox&gt; 
        &lt;mx:Text text="Phone:"/&gt; 
        &lt;mx:TextInput id="contactPhone" 
            width="150" 
            text="{data.phone}" 
            change="newPhone=contactPhone.text;"/&gt; 
    &lt;/mx:HBox&gt; 
 
    &lt;!-- Display the status using a CheckBox control 
        and let the user edit it.--&gt; 
    &lt;mx:CheckBox id="confirmed" 
        label="Confirmed" 
        selected="{data.status}" 
        click="newConfirmed=confirmed.selected;"/&gt; 
&lt;/mx:VBox&gt;</pre>

         </div>

      </div>

   </div>


</body>
</html>